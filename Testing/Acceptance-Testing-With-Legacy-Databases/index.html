<!DOCTYPE html>
<html lang="en" xml:lang="en">

  <head>
  
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Acceptance Testing With Legacy Databases | Western Devs</title>
  <meta name="description" content="One of the most common pain points of implementing automated acceptance testing is the interaction with the database. For greenfield projects you can plan from day one how to setup the test to easily">
<meta property="og:type" content="article">
<meta property="og:title" content="Acceptance Testing With Legacy Databases">
<meta property="og:url" content="https://westerndevs.com/Testing/Acceptance-Testing-With-Legacy-Databases/index.html">
<meta property="og:site_name" content="Western Devs">
<meta property="og:description" content="One of the most common pain points of implementing automated acceptance testing is the interaction with the database. For greenfield projects you can plan from day one how to setup the test to easily">
<meta property="article:published_time" content="2017-01-22T15:04:33.000Z">
<meta property="article:modified_time" content="2022-08-12T03:03:30.835Z">
<meta property="article:author" content="Western Devs">
<meta property="article:tag" content="Acceptance Testing">
<meta property="article:tag" content="Unit Testing">
<meta property="article:tag" content="Legacy code">
<meta property="article:tag" content="jackson">
<meta property="article:tag" content="WireMock">
<meta name="twitter:card" content="summary">
<meta name="twitter:creator" content="@westerndevs">

    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="title" content="WesternDevs">   
    <meta name="keywords" content="software development,software,asp.net,blog">
    <meta name="description" content="We're all west of somewhere">
    <meta name="copyright" content="WesternDevs">
    <meta name="revisit-after" content="15 days">
    <meta name="robots" content="all">
    <meta name="MSSmartTagsPreventParsing" content="true">
  
    <link rel="canonical" href="http://orthocoders.com/blog/2017/01/01/acceptance-testing-with-legacy-databases/">
  
  
    <link rel="alternate" href="/feed.xml" title="Western Devs" type="application/atom+xml">
  
  
<link rel="stylesheet" href="/css/style.css">

      
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <script src="//code.jquery.com/jquery-1.11.3.min.js"></script>  
  <meta name="generator" content="Hexo 4.2.1"></head>

<body>

<!-- FIXED HEADER BECAUSE SCROLLING -->
<!--HEADER STARTS-->
<div class="WrapperHeader">
<div style="display:inline-block; text-align: center;">
<div class="Header">

  <div class="HeaderLogo">
    <a href="/"><img src="/images/header_logo_transparent.png" alt="WesternDevs" title="WesternDevs" border="0" style="width: 206px; height: 64px;" width="206" height="64"></a>
  </div>

  <div class="HeaderLinks">
      <a href="/posts" class="nav">POSTS</a>       
      <a href="/podcasts" class="nav">PODCASTS</a>       
      <a href="/whoweare" class="nav">ABOUT</a>  
      <a href="/whatwevedone" class="nav">WHAT WE'VE DONE</a>  
      <a href="/speaking" class="nav">SPEAKING</a>
      <div class="HeaderIcons">
        <a href="mailto:info@westerndevs.com"><img src="/images/icon_email.png" border="0" alt="Email" title="Email" height="26" width="26"></a>
        <a href="/feed.xml"><img src="/images/icon_subscribe.png" border="0" alt="Subscribe" title="Subscribe" height="26" width="27"></a>
        <a href="http://twitter.com/westerndevs" target="_blank"><img src="/images/icon_twitter.png" border="0" alt="Twitter" title="Twitter" height="26" width="27"></a>
        <a href="http://github.com/westerndevs" target="_blank"><img src="/images/icon_github.png" border="0" alt="GitHub" title="GitHub" height="26" width="27"></a>     
      </div>
  </div>
  
</div>
</div>
</div>
<!--HEADER ENDS-->    



<!--WRAPPER STARTS-->
<div class="Wrapper" style="">

<!--SUBHEAD STARTS-->
<div class="WrapperSubHeaderSubpage">
<center>
	<div class="SubHeader">
		<H1 class="title"><img class="icon" src="/images/icon_posts.png" alt="POST" title="POST" border="0"> POST</H1>
	</div>
</center>
</div>
<!--SUBHEAD ENDS-->

<!--PAGE CONTENT STARTS-->
<center>
<div class="WrapperContent">

<!--MAIN CONTENT STARTS-->
	<div class="SubpageBoxSubLrg">
		<div class="SubpageBoxSubLrgContent">
		    <div class='postTitle'>
  <div class="ListLrgDateBG">
    <div class="ListLrgDateMonth">JAN</div>
    <div class="ListLrgDateDay">22</div>
    <div class="ListLrgDateYear">2017</div>
  </div>
  <h2>Acceptance Testing With Legacy Databases</h2>
</div>

		    

<p class="TXTsm">ORIGINALLY POSTED TO: <a href="http://orthocoders.com/blog/2017/01/01/acceptance-testing-with-legacy-databases/" target="_blank" rel="noopener" class='originalurl'>http://orthocoders.com/blog/2017/01/01/acceptance-testing-with-legacy-databases/</a></p>



			<div id="mainPostContent">
	        <p>One of the most common <em>pain points</em> of implementing automated acceptance testing is the interaction with the database.</p>
<p>For greenfield projects you can plan from day one how to setup the test to easily include the database interaction but with legacy projects it is not always that easy.</p>
<a id="more"></a>
<h2>Dealing with legacy code</h2>
<p>Let’s face it: <strong>Testing is hard</strong>.</p>
<p>I do not mean it is hard to understand. The complexity is not inherently attached to the concept of testing but (I found in most cases) a by-product of <code>tooling + environment + database</code>.</p>
<p>That is the reason why I think adding testing to a legacy system can be quite challenging. We did not choose the tooling, nor the database nor did we set up the environment to be test friendly.</p>
<p>So where to start with testing?</p>
<p>One option is to start by adding <em>unit tests</em> into the codebase, but that could be a paramount effort considering that quite often the legacy code was not written with testability in mind. A lot of change, a lot of risk.</p>
<p>On the other hand <em>acceptance testing</em> is the perfect candidate.</p>
<p>Why? <em>Acceptance Testing</em> puts the focus on testing end to end. Given a certain input, run it through the system and make sure the output is what we expect to see.</p>
<p>It works for web applications, web apis, libraries, desktop applications, you name it. And also, in many cases we will not need to modify the code behaviour at all.</p>
<p>All that is fine and dandy, but what about the database? We may be able to create a local copy of the database to test, but what are we going to do with data generation, logic stored in the database, etc?</p>
<h2>A perfect world</h2>
<p>Let’s pause and imagine for just a few paragraphs that instead of using a database the <em>system under test</em> uses an HTTP API to get all the information it needs.</p>
<p>If that was the case then we could implement acceptance testing very easily by doing something like the following pseudo algorithm:</p>
<ul>
<li>Launch a fake HTTP server listening on the URI expected by the system.</li>
<li>Create some data that will work for my test case.</li>
<li>When the application does the call, return that data.</li>
<li>Validate the case worked as expected.</li>
<li>Shutdown the server.</li>
</ul>
<p>Neat right? This approach has many benefits.</p>
<p><em>First</em>, we keep modifications of the system under test to the bare minimum.</p>
<p><em>Second</em>, there are lots of tools in multiple languages that can help us with such a task. We can choose the same environment or one that is completely different. Whichever works better for our needs.</p>
<p><em>Third</em>, these steps can be easily automated and ran when it is convenient and useful.</p>
<p>Ok, the break is over.</p>
<h2>Back to reality</h2>
<p>To change all the database related code to start using some kind of web API could be a huge risk and effort.</p>
<p>Such amount of refactoring may cripple your project for a long time, and not even produce a positive result.</p>
<p>Having said that, what if we use the same idea but with a small twist?.</p>
<h2>Leave the database code alone</h2>
<p>Well, not alone alone, but let’s hide it behind a very thin wrapper.</p>
<p>The goal is that instead of directly hitting the database (or whichever function or class is being used) we are going to call a proxy that is sole job is to forward the call to the same code we were using before.</p>
<p>The main difference is that the <em>Proxy</em> talks about the domain. If we were fetching some <code>Customer</code> object from the database, then the proxy will have a way to do so and return a <code>Customer</code> collection.</p>
<p>So the database interaction, <em>ORM</em> mapping, etc, stays hidden.</p>
<p>To illustrate the idea with a bit of code, let’s imagine a class in charge of finding customers in order to show them:</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">CustomersController</span> &#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> CustomerView <span class="title">index</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line"></span><br><span class="line">    String query = <span class="string">"select NAME, ADDRESS, BIRTH_DATE from CUSTOMERS"</span>;</span><br><span class="line"></span><br><span class="line">    ResultSet rs = dbConnection.createStatement().executeQuery(query);</span><br><span class="line"></span><br><span class="line">    List&lt;Customer&gt; customers = <span class="keyword">new</span> ArrayList&lt;Customer&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(rs.next()) &#123; customers.<span class="keyword">add</span>(loadCustomer(rs)); &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> CustomerView(customers);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">private</span> Customer <span class="title">loadCustomer</span>(<span class="params">ResultSet rs</span>)</span> &#123; ...... &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>The first step would be to create an <em>interface</em> and abstract the query to the database:</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">CustomersQuery</span> &#123;</span><br><span class="line">  <span class="function">List&lt;Customer&gt; <span class="title">getCustomers</span>(<span class="params"></span>)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>And a default implementation that does the database query:</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">DatabaseCustomerQuery</span> <span class="title">implements</span> <span class="title">CustomersQuery</span> &#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> List&lt;Customer&gt; <span class="title">getCustomers</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line"></span><br><span class="line">    String query = <span class="string">"select NAME, ADDRESS, BIRTH_DATE from CUSTOMERS"</span>;</span><br><span class="line"></span><br><span class="line">    ResultSet rs = dbConnection.createStatement().executeQuery(query);</span><br><span class="line"></span><br><span class="line">    List&lt;Customer&gt; customers = <span class="keyword">new</span> ArrayList&lt;Customer&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(rs.next()) &#123; customers.<span class="keyword">add</span>(loadCustomer(rs)); &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> customers;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">private</span> Customer <span class="title">loadCustomer</span>(<span class="params">ResultSet rs</span>)</span> &#123; ...... &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>And the original class now it uses the interface:</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">CustomersController</span> &#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> CustomerView <span class="title">index</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> CustomerView(<span class="keyword">this</span>.customersQuery.getCustomers());</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2>Mock the proxy</h2>
<p>When testing the system, the library in charge of <em>proxying</em> the interaction to the database could be switched to a different one that does an HTTP call to a URI and returns the result based on the response.</p>
<p>By using an HTTP call, then the test will pose as the expected source of data and respond based on the needs of each case.</p>
<p>Following the previous example, we could implement a class that gets the customers data using an HTTP call to the test URI.</p>
<p>The example uses <a href="https://github.com/FasterXML/jackson" target="_blank" rel="noopener">Jackson</a> to load the json content.</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">HttpCustomersQuery</span> <span class="title">implements</span> <span class="title">CustomerQuery</span> &#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> List&lt;Customer&gt; <span class="title">getCustomers</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    HttpGet httpGet = <span class="keyword">new</span> HttpGet(testUrl + <span class="string">"/customers"</span>);</span><br><span class="line">    HttpResponse response = httpclient.execute(httpGet);</span><br><span class="line"></span><br><span class="line">    ObjectMapper mapper = <span class="keyword">new</span> ObjectMapper();</span><br><span class="line">    List&lt;Customer&gt; customers = mapper.readValue(response.getEntity().getContent(), <span class="keyword">new</span> TypeReference&lt;List&lt;Customer&gt;&gt;()&#123;&#125;);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> customers;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>The last step, when running the tests we will launch the HTTP server to serve the JSON customers:</p>
<p>Here I am using <a href="http://wiremock.org/" target="_blank" rel="noopener">WireMock</a> to set up the response.</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">@Test</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testCustomersView</span>(<span class="params"></span>)</span>  &#123;</span><br><span class="line"></span><br><span class="line">  List&lt;Customer&gt; expected = createSomeFakeCustomers();</span><br><span class="line"></span><br><span class="line">  String serializedCustomers = JSON.write(expeted);</span><br><span class="line"></span><br><span class="line">  stubFor(<span class="keyword">get</span>(urlEqualTo(<span class="string">"/customers"</span>))</span><br><span class="line">            .willReturn(aResponse()</span><br><span class="line">                .withStatus(<span class="number">200</span>)</span><br><span class="line">                .withHeader(<span class="string">"Content-Type"</span>, <span class="string">"application/json"</span>)</span><br><span class="line">                .withBody(serializedCustomers)));</span><br><span class="line"></span><br><span class="line">  <span class="comment">// run the system under test here</span></span><br><span class="line">  runSystem();</span><br><span class="line"></span><br><span class="line">  List&lt;Customer&gt; actual = getCustomersShown() ; <span class="comment">// get the customers that are being shown</span></span><br><span class="line"></span><br><span class="line">  assertThat(expected, <span class="keyword">is</span>(actual));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3>Why bother with HTTP?</h3>
<p>We could implement the “fake” version of the library as:</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">HttpCustomersQuery</span> <span class="title">implements</span> <span class="title">CustomerQuery</span> &#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> List&lt;Customer&gt; <span class="title">getCustomers</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    String jsonContent = loadResourceFrom(<span class="string">"/resources/customers.json"</span>);</span><br><span class="line"></span><br><span class="line">    ObjectMapper mapper = <span class="keyword">new</span> ObjectMapper();</span><br><span class="line">    List&lt;Customer&gt; customers = mapper.readValue(jsonContent, <span class="keyword">new</span> TypeReference&lt;List&lt;Customer&gt;&gt;()&#123;&#125;);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> customers;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>However this approach may limit our ability to separate completely the acceptance test implementation from the system we want to test.</p>
<p>Having an external server to pose as data source provides flexibility and could simplify quite a bit the test implementation because it gives us the freedom to choose any tool that we may see fit to do the actual implementation.</p>
<p>This technique could simplify manual testing as well. The test scenario data could be setup, then the system launched and wait for manual confirmation to ensure it works as expected.</p>
<figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Given</span> the customers are loaded             <span class="comment"># All the customers in the JSON file are loaded</span></span><br><span class="line"><span class="keyword">When</span> listing the customers                 <span class="comment"># Launch the system to show the customers</span></span><br><span class="line"><span class="keyword">Then</span> every customer name shows in the list <span class="comment"># Ensure all customers are shown</span></span><br></pre></td></tr></table></figure>
<h2>Change impact</h2>
<p>The change will be localized. Modifying a particular functionality of the system does not affect how other parts of the system work nor major refactoring effort is required.</p>
<p>Of course there will be some code change, but hopefully very small and just to hide the database related code behind a very thin wrapper.</p>
<p>Once the acceptance tests start to roll, each new test will be easier and easier.</p>
<p>Not only the system will have a new safety net that becomes larger and larger with every test, but the quality will grow as well.</p>

	        </div>

            
            <section id="comments">
            <div id="disqus_thread">
                <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript" target="_blank" rel="noopener">comments powered by Disqus.</a></noscript>
            </div>
            </section>
            
		</div>
	</div>
<!--MAIN CONTENT ENDS-->

<!--SIDEBAR CONTENT STARTS-->
	<div class="SubpageBoxSubSm">
		<div class="SubpageBoxSubSmContent">
			
			

			<div class="ProfileImg">
				
				<a href="/bios/amir_barylko">
				
					<img src='https://www.gravatar.com/avatar/fadb1de2c18ab0fc42ebc0988327c90f?s=200' />
				
				</a>
				
			</div>

			<BR clear="all">

			<h2><a href="/bios/amir_barylko">Amir Barylko</a></h2>
			
			<a href="mailto:amir@barylko.com"><img class="ProfileIcon" src="/images/icon_email.png" border="0" alt="Email" title="Email"> Email</a><BR>
			
			
			<a href="http://www.orthocoders.com/" target="_blank"><img class="ProfileIcon" src="/images/icon_web.png" border="0" alt="Web" title="Web"> Web</a><BR>
			
			
			<a href="http://twitter.com/abarylko" target="_blank"><img class="ProfileIcon" src="/images/icon_twitter.png" border="0" alt="Twitter" title="Twitter"> Twitter</a><BR>
			
			
			<a href="https://github.com/amirci" target="_blank"><img class="ProfileIcon" src="/images/icon_github.png" border="0" alt="GitHub" title="GitHub"> GitHub</a><br>
			
			
			<a href="https://www.linkedin.com/in/amirbarylko" target="_blank"><img class="ProfileIcon" src="/images/icon_linkedin.png" border="0" alt="LinkedIN" title="LinkedIN"> LinkedIn</a><br>
			
			
 			<a href="/feeds/amir_barylko.xml"><img class="ProfileIcon" src="/images/icon_subscribe.png" /> RSS</a>
			

			<hr />
			<h4>Looking for someone else?</h4>
			<p>You can find the rest of the Western Devs Crew <a href="/whoweare">here</a>.</p>
		</div>
	</div>
<!--SIDEBAR CONTENT ENDS-->


</div>
</center>
<!--PAGE CONTENT ENDS-->


<!--FOOTER STARTS-->
<center>
  <div class="FooterBarTxt">&copy; 2015 Western Devs. All Rights Reserved. Design by <a href="http://www.karenchudobiak.ca" target="_blank">Karen Chudobiak, Graphic Designer</a></div>
</center>
<!--FOOTER ENDS-->

<!-- NAV FOOTER STARTS -->
<div class="NavFooter">
  <a href="/posts" alt="Posts"><i class="fa fa-newspaper-o fa-2x"></i><span>Posts</span></a>
  <a href="/podcasts" alt="Podcasts"><i class="fa fa-volume-up fa-2x"></i><span>Podcasts</span></a>
  <a href="/whoweare" alt="About"><i class="fa fa-star fa-2x"></i><span>About</span></a>
  <a href="/whatwevedone" alt="What We've Done"><i class="fa fa-trophy fa-2x"></i><span>Work</span></a>
  <a href="/speaking" alt="Speaking"><i class="fa fa-comment-o fa-2x fa-flip-horizontal"></i><span>Speaking</span></a>
</div>
<!-- NAV FOOTER ENDS -->




</div>
<!--WRAPPER ENDS-->


<script>
  var disqus_shortname = 'westerndevs';
  
  var disqus_url = 'https://westerndevs.com/Testing/Acceptance-Testing-With-Legacy-Databases/'.replace(".com//", ".com/");
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
  
function shuffle(array) {
  var currentIndex = array.length, temporaryValue, randomIndex;

  // While there remain elements to shuffle...
  while (0 !== currentIndex) {

    // Pick a remaining element...
    randomIndex = Math.floor(Math.random() * currentIndex);
    currentIndex -= 1;

    // And swap it with the current element.
    temporaryValue = array[currentIndex];
    array[currentIndex] = array[randomIndex];
    array[randomIndex] = temporaryValue;
  }

  return array;
}

</script>


</body>

  
<!-- Google Analytics -->
<script type="text/javascript">
if (document.location.hostname.search("westerndevs.com") !== -1 || document.location.hostname.search("www.westerndevs.com") !== -1) {
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-37617956-2', 'auto');

ga('set', 'contentGroup1', 'amir_barylko');

ga('send', 'pageview');
}
</script>
<!-- End Google Analytics -->



</html>
