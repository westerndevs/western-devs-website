<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Western Devs</title>
  
  <link href="/feeds/james_chambers" rel="self" type="application/atom+xml"/>
  <link href="https://westerndevs.com" rel="alternate" type="application/atom+xml"/>
  
  <updated>2024-10-13T19:57:38.550Z</updated>
  <id>https://westerndevs.com/</id>
  
  <author>
    <name>Western Devs</name>
	<uri>https://westerndevs.com</uri>
    <email>info@westerndevs.com</email>
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title type="html">ASP.NET Core Training in Calgary, Alberta</title>
    <link href="https://westerndevs.com/Training/ASP-NET-Core-Training-in-Calgary-Alberta/" rel="alternate" type="text/html"/>
    <id>https://westerndevs.com/Training/ASP-NET-Core-Training-in-Calgary-Alberta/</id>
    <published>2017-01-16T15:54:30.000Z</published>
    <updated>2024-10-13T19:57:38.550Z</updated>
	<author>
	
	  
	  <name>James Chambers</name>
	  <email>james@jameschambers.com</email>
	
	  <uri>https://westerndevs.com</uri>
	</author>
    
    <content type="html"><![CDATA[<p>For some folks, working independently and plowing through a book chapter-by-chapter is the best way for them to learn. If you're in that camp, I've got just the book for you.</p><p><a href="http://click.linksynergy.com/link?id=hKA2dsKjtSk&amp;offerid=145238.2497285&amp;type=2&amp;murl=http%3A%2F%2Fwww.informit.com%2Ftitle%2F9781509304066" target="_blank" rel="noopener"><img src="https://jcblogimages.blob.core.windows.net:443/img/2017/aspnetcore_book.png" alt=""></a></p><p class="article-more-link">    <a href="http://click.linksynergy.com/link?id=hKA2dsKjtSk&offerid=145238.2497285&type=2&murl=http%3A%2F%2Fwww.informit.com%2Ftitle%2F9781509304066" target="_blank" rel="noopener">Buy the book</a></p><h2>Want to get Hands-On?</h2><p>For others, in-person training is the most effective way to dive into new content. Having someone in the same room who knows how to navigate a new release of software, framework and tooling and all the related changes is a powerful asset while you learn.</p><p>That said, we are pleased to announce our first Monsters workshop in Calgary, Alberta. Please join us in Calgary as we mash on changes, approaches, caveats and wins for all things in ASP.NET Core.</p><p>Already interested? You can <a href="https://training.aspnetmonsters.com" target="_blank" rel="noopener">sign up today</a> and join us in February from the 22nd to the 24th.</p><p class="article-more-link">    <a href="https://training.aspnetmonsters.com" target="_blank" rel="noopener">Register for training</a></p><h2>We're Going To Learn a Lot Together!</h2><p>My good friends <a href="https://twitter.com/dave_paquette" target="_blank" rel="noopener">Dave</a>, <a href="https://twitter.com/stimms" target="_blank" rel="noopener">Simon</a> and I have been mashing on ASP.NET Core since its inception. This workshop is the culmination of what we have learned along the way and applied in our projects, samples and through our videos on Microsoft's Channel 9. We're taking you deep into three fully-packed days that walk you through various stages of application development. Our number one priority is to equip you with the skills you need to start on a Core MVC project and transition your existing skills to the new tooling.</p><p>We expect you to be familiar with web technologies and to be comfortable in Visual Studio. Beyond that, here is some of what you can expect:</p><ul><li>A solid foundation of ASP.NET Core with which you can build MVC applications</li><li>Exposure to configuration, testing and extensibility</li><li>Tips, samples and exercises that will guide you as you build software in the cloud</li><li>An understanding of data access using the latest version of Entity Framework</li><li>Access to the labs and source code used in the workshop</li></ul><p>Be sure to check out our training site to <a href="https://training.aspnetmonsters.com" target="_blank" rel="noopener">view the full curriculum</a>.</p><h2>Location, Location, Location</h2><p>Calgary and area is home to some of the most beautiful sights in Canada, with a mountain range full of winter sports about an hour away, skiing at Calgary's Olympic Park as well as NHL and WHL Hockey on the edge of downtown. There are great restaurants, museums, art exhibits and theatre, along with with a great night life including brew pubs, world-famous Canadian poutine and an assortment of comedy clubs.</p><p>If you're joining us from outside the area, we highly recommend adding on a few days to your trip so that you can explore the area. If you are from outside of Canada, <b>you will need to get a valid International Driver's Permit</b> from your country before you leave if you wish to rent a car when you're here (handy for exploring!).</p><p><b>Can't join us in Calgary?</b> No problem. Just hit the registration page and sign up for our email list to be notified of other upcoming training cities.</p><p>Happy New Year, and happy coding!</p><p class="article-more-link">    <a href="https://training.aspnetmonsters.com" target="_blank" rel="noopener">Register for training</a></p>]]></content>
    
    <summary type="html">
    
      The first ASP.NET Monsters workshop is happening in Calgary from Feb 22-24, 2017. Attendance is mandatory
    
    </summary>
    
      <category term="Training" scheme="https://westerndevs.com/categories/Training/"/>
    
    
      <category term="ASP.NET Core" scheme="https://westerndevs.com/tags/ASP-NET-Core/"/>
    
      <category term="Training" scheme="https://westerndevs.com/tags/Training/"/>
    
  </entry>
  
  <entry>
    <title type="html">GitHub Authentication with ASP.NET Core</title>
    <link href="https://westerndevs.com/Development/github-authentication-asp-net-core/" rel="alternate" type="text/html"/>
    <id>https://westerndevs.com/Development/github-authentication-asp-net-core/</id>
    <published>2016-04-26T11:12:54.000Z</published>
    <updated>2024-10-13T19:57:38.562Z</updated>
	<author>
	
	  
	  <name>James Chambers</name>
	  <email>james@jameschambers.com</email>
	
	  <uri>https://westerndevs.com</uri>
	</author>
    
    <content type="html"><![CDATA[<p>Authentication has changed over the years, and my take on it has surely shifted. No longer is it the scary, intimidating beastie that must be overcome on our projects. Today, we can let external providers provide the authentication mechanisms, giving the user with a streamlined experience that can give them access to our application with previuosly defined credentials.</p><p><img src="https://jcblogimages.blob.core.windows.net/img/2016/04/github-auth.png" alt="GitHub Authentication in ASP.NET Core"></p><p>Let's have a look at what it takes to allow users to authenticate in our application using GitHub as the login source, and you can check out the Monsters video take of this on <a href="https://channel9.msdn.com/Series/aspnetmonsters/Episode-26-GitHub-Authentication-in-ASPNET-Core" target="_blank" rel="noopener">Channel 9</a>.</p><a id="more"></a><h2>Background and Overview</h2><p>OAuth has been known as a complicated spec to adhere to, and this is further perpetuated by the fact that while much of the mechanics are the same among authentication providers, the implementation of how one retrieves information about the logged in user is different from source-to-source.</p><p>The security repo for ASP.NET gives us some pretty good options for the big, wider market plays like Facebook and Twitter, but there is aren't - nor can or should there be - packages for every provider. GitHub is appealing as a source when we target other developers, and while it lacks a package of its own, we can leverage the raw OAuth provider and implement the user profile loading details on our own.</p><p>In short, the steps are as follows:</p><ol><li>Install the <code>Microsoft.AspNet.Authentication.OAuth</code> package</li><li>Register you application in GitHub</li><li>Configurate the OAuth parameters in your application</li><li>Enable the OAuth middleware</li><li>Retrieve the claims for the user</li></ol><p>Okay, now let's dive into the nitty gritty of it.</p><h2>Install the Package</h2><p>First step is a gimme.  Just head into your <code>project.json</code> and add the package to the list of dependencies in your application.</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">"<span class="selector-tag">Microsoft</span><span class="selector-class">.AspNet</span><span class="selector-class">.Authentication</span><span class="selector-class">.OAuth</span>": "1<span class="selector-class">.0</span><span class="selector-class">.0-rc1-final</span>",</span><br></pre></td></tr></table></figure><p>You can see here that I am on RC1, so assume there may still be some changes to the naming and, obviously, the version of the package you'll want to use.</p><h2>Create the App in GitHub</h2><p>Pull down the user account menu from your avatar in the top-right corner of GitHub, then select Settings. Next, go to the OAuth Applications section and create a new application. This is pretty straightforward, but it's worth pointing out a few things.</p><p><img src="https://jcblogimages.blob.core.windows.net:443/img/2016/04/github-app.png" alt="Creating an OAuth app in GitHub"></p><p>First, you'll need to note your client ID and secret, or minimally, you'll want to leave the browser window open.</p><p>Second you'll see that I have a authorization callback setup in the app as follows:</p><p><code>https://localhost:44363/signin-github</code></p><p>This is important for two reasons:</p><ol><li>This will only work locally on your machine</li><li>The <code>signin-github</code> bit will need to be configured in our middleware</li></ol><p>If you want better control over how that is configured in your application, you can incorporate the appropriate settings into your configuration files, but you'll also need to update your GitHub app. This process is still relevant - you'll likely want something to test with locallying without having to deploy to test your application.</p><h2>Configure Your Client ID and Secret</h2><p>For production applications you'll be fine to set environment variables or configure application settings in Azure (which are loaded as env vars), but locally you'll want access to the config as well. You can setup <a href="https://channel9.msdn.com/Series/aspnetmonsters/Episode-23-Working-With-Sensitive-Data-User-Secrets" target="_blank" rel="noopener">user secrets via the command line</a>, or you can just right-click on your project in Visual Studio 2015 and select &quot;Manage User Secrets&quot;. From there, you set it up like so:</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"GitHub:ClientId"</span>: <span class="string">"your_id"</span>,</span><br><span class="line">  <span class="attr">"GitHub:ClientSecret"</span>: <span class="string">"your_secret"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2>Enable OAuth Middleware</h2><p>In the above code we also wired up some code to fire during the <code>OnCreatingTicket</code> event, so let's implement that next.  To do this, we'll add the middleare to the <code>Configure</code> method in our startup class, and add a property to the class to expose our desired settings.</p><p>The middleware call is like so:<code>app.UseOAuthAuthentication(GitHubOptions);</code></p><p>And we create the property as such:</p><script src="https://gist.github.com/MisterJames/746331337329ca50556cbff19a0ba176.js"></script><p>Remember that callback path that we setup on GitHub, you'll see it again in our settings above. You'll also note that we're retrieving our client ID and secret from our configuration, and that we're setting up a handler when the auth ticket is created so that we can go fetch additional details about the authenticating party.</p><h2>Retrieve the User's Claims</h2><p>We'll have to call back out to GitHub to get the user's details, they don't come back with the base calls for authentication. This is the part that is different for each provider, and thus you'll need to write this part for yourself if you wish to use an alternate source for authentication.</p><p>We will add two parts to this; the first will call out to get the information about the user, the second will parse the result to extract the claims. Both of these can live in your <code>startup.cs</code> class.</p><script src="https://gist.github.com/MisterJames/6a2ee9918afa9019aa3c1891f216102a.js"></script><script src="https://gist.github.com/MisterJames/c818ad44950d1c7312e2d36b93041407.js"></script><p>Unfortunately the base implementation of the OAuth provider does not support allowing us to request additional fields for the user; I'll take a look at that in a future post. All you're going to get are the basics with the above - so none of the account details beyond the email addres, nor ability to work with their repos/issues/PRs.</p><h2>Next Steps</h2><p>There you have it. All the chops you need to start exercising your OAuth muscle, and a basic implementation that you can leverage as a starting point. Trying this out will take you about 15 minutes, start to finish, provided you already have a GitHub account.</p><ol><li><a href="https://get.asp.net/" target="_blank" rel="noopener">Get the latest VS 2015 and ASP.NET Core bits</a></li><li><a href="https://github.com/aspnet/security" target="_blank" rel="noopener">Explore the ASP.NET security repo on GitHub</a></li><li>Run through the samples above.</li></ol><p>Finally, check out the Monsters' video on Channel 9 where I code this live.</p><iframe src="https://channel9.msdn.com/Series/aspnetmonsters/Episode-26-GitHub-Authentication-in-ASPNET-Core/player" width="640" height="360" allowFullScreen frameBorder="0"></iframe><p>Happy Coding!</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Authentication has changed over the years, and my take on it has surely shifted. No longer is it the scary, intimidating beastie that must be overcome on our projects. Today, we can let external providers provide the authentication mechanisms, giving the user with a streamlined experience that can give them access to our application with previuosly defined credentials.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://jcblogimages.blob.core.windows.net/img/2016/04/github-auth.png&quot; alt=&quot;GitHub Authentication in ASP.NET Core&quot;&gt;&lt;/p&gt;
&lt;p&gt;Let&#39;s have a look at what it takes to allow users to authenticate in our application using GitHub as the login source, and you can check out the Monsters video take of this on &lt;a href=&quot;https://channel9.msdn.com/Series/aspnetmonsters/Episode-26-GitHub-Authentication-in-ASPNET-Core&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Channel 9&lt;/a&gt;.&lt;/p&gt;
    
    </summary>
    
      <category term="Development" scheme="https://westerndevs.com/categories/Development/"/>
    
    
      <category term="Visual Studio 2015" scheme="https://westerndevs.com/tags/Visual-Studio-2015/"/>
    
      <category term="Authentication" scheme="https://westerndevs.com/tags/Authentication/"/>
    
  </entry>
  
  <entry>
    <title type="html">Tips for Speeding Up Visual Studio</title>
    <link href="https://westerndevs.com/Development/Tips-for-Speeding-Up-Visual-Studio/" rel="alternate" type="text/html"/>
    <id>https://westerndevs.com/Development/Tips-for-Speeding-Up-Visual-Studio/</id>
    <published>2016-02-16T17:17:45.000Z</published>
    <updated>2024-10-13T19:57:38.546Z</updated>
	<author>
	
	  
	  <name>James Chambers</name>
	  <email>james@jameschambers.com</email>
	
	  <uri>https://westerndevs.com</uri>
	</author>
    
    <content type="html"><![CDATA[<p>People, this is 2016. If you're waiting on your project to build or feel like your IDE is sluggish, it's time to inventory and make sure you have the optimal configuraiton for development rig. Let's talk quickly about the things that make your machine go fast (or slow) and some simple tweaks that can get your builds moving along more quickly.</p><p><img src="https://jcblogimages.blob.core.windows.net:443/img/2016/02/safemode.png" alt="Launching VS in Safe Mode"></p><a id="more"></a><p>In a recent ASP.NET Community Standup, the team quickly ran through a list of things that you can do to make sure that your environment is in check for building as quickly as possible and running a stable version of Visual Studio.<!-- more --> These tips included:</p><ul><li>Start Visual Studio in Safe Mode</li><li>Run on an SSD</li><li>Exclude dev tools and folders from anti-virus software</li><li>Use a RAM disk for your code</li><li>Figure out <em>what is actually causing your grief</em></li><li>Disabling features</li></ul><p><em><em>Update</em>: I've gotten a few great ideas in the comments below and would love to hear more! Please feel free to add your thoughts in the comments!</em></p><h2>Start Visual Studio in Safe Mode</h2><p>This is an easy tip to try out and has no impact on your normal dev environment. It's not as destructive as, say, resetting Visual Studio and nuking all your plugins. Just open a Visual Studio command prompt (I typically do so as admin) and launch the IDE like so:</p><p><code>devenv /SafeMode</code></p><p>Many times extensions crap out and slow you down. There are some great ones out there, so I would never suggest removing them all. I have a love-hate relationship with ReSharper and often disable it, especially when I'm travelling and can't be plugged in to step up my CPU speed.</p><h2>Run on an SSD</h2><p>This was a game changer for me: it was a tough pill to swallow, but going from hundreds of gigs of space down to ~40 on my first SSD was so worth it. Over the last couple of years I've upgraded along the way and currently have two that I sit on (on my two different rigs).</p><blockquote><p>If you can hear your hard drive, you are going to be an unhappy individual in your life. - Scott Hanselman</p></blockquote><p>I recommend <a href="http://www.amazon.ca/gp/product/B00OAJ412U/ref=as_li_qf_sp_asin_il_tl?ie=UTF8&amp;camp=15121&amp;creative=330641&amp;creativeASIN=B00OAJ412U&amp;linkCode=as2&amp;tag=chasthelist-20" target="_blank" rel="noopener">this one</a> or <a href="http://www.amazon.ca/gp/product/B00OBRFFAS/ref=as_li_qf_sp_asin_il_tl?ie=UTF8&amp;camp=15121&amp;creative=330641&amp;creativeASIN=B00OBRFFAS&amp;linkCode=as2&amp;tag=chasthelist-20" target="_blank" rel="noopener">this one</a> and can vouch for your <code>_happy++;</code> should you make the switch. The thing I love about the Samsungs is the little Magician software they bundle with the drives so that you can easily drop your HDD and move all your data over to the new, faster kit.</p><h2>Exclude Your Tooling and Code From Anti-Virus Software</h2><p>I want to make it perfectly clear that while I agree with this tip and do this myself, it's not one that you should take lightly as you're removing a layer of protection from your computer. So don't do it. Unless you want to run faster, in which case, exclude these guys from your real-time scan:</p><ul><li>devenv</li><li>msbuild</li><li>your code folder</li></ul><p>I'm running McAfee, which looks like this when you drill in from the dashboard:</p><p><img src="https://jcblogimages.blob.core.windows.net:443/img/2016/02/anti-virus-exclude.PNG" alt="Excluding Tools from Virus Scans"></p><p>Pretty easy to setup, and you'll get some of your day back. But I told you not to do it.</p><h2>Use a RAM Disk For Your Code</h2><p>There isn't enough gain for me to recommend this one. I actually tried it a couple of years ago when I got my first SSD and the speed wasn't greatly improved. On top of that, it required slicing out RAM, running scripts to mirror or copy over the code and ran the risk of data loss if the computer freezes. If you can drop $100 or less on an SSD, it's just not worth it to run a RAM disk. Some folks argue that it's 10x the speed (or more) than an SSD, but I wasn't sold on that sales pitch.</p><p><em>That said</em>, if you're still on an HDD, I can confirm that running on a RAM disk will be a Godsend. Most recently I have used <a href="http://www.ltr-data.se/opencode.html/" target="_blank" rel="noopener">this one</a> but I haven't tried it on Win 10. There's also a commercial one that <a href="http://www.superspeed.com/desktop/ramdisk.php" target="_blank" rel="noopener">a friend of mine swears by</a>.</p><h2>Figure Out What is Actually Causing Your Grief</h2><p>There's a great tool that most devs I know run on their machine, the much-improved version of process monitor from <a href="https://technet.microsoft.com/en-us/sysinternals/processmonitor.aspx" target="_blank" rel="noopener">sysinternals</a>:</p><p><img src="https://jcblogimages.blob.core.windows.net:443/img/2016/02/sysinternals-procmon.PNG" alt="Process Monitor"></p><p>SIPM will reveal everything that gets logged out by any processes that are running, from disk reads/writes to thread allocation to network activity and more. If you ever figured there wasn't a lot to do when you &quot;just wanted to build&quot;, you'll be quite surprised when you build your project and see tens of thousands of events drop in milliseconds. Computers are awesome.</p><p>Simply start up process monitor, then start Visual Studio and watch for events. You can start honing in and finding what is causing your grief. I find the best way to get at things is by excluding the bits that you know are not the problem, like explorer.exe, and then honing in by excluding things like reading from the registry.</p><h2>Disabling Features</h2><p>Things like IntelliTrace offer great benefits, but if you're in power-saver mode you're going to find yourself crying for processor cycles. I notice when travelling, when I often find myself not plugged in, that builds can drag on and debugging can be brutal if you have certain features on. Check to see if you have anything running that you don't need.</p><h2>Straight from the Horse's...</h2><p>You can watch the original video below (jumpt to the 36:00 mark), or hit it out on the <a href="https://youtu.be/niCDYdrCOu0?t=32m6s" target="_blank" rel="noopener">YouTubes</a>.</p><iframe width="560" height="315" src="https://www.youtube.com/embed/niCDYdrCOu0" frameborder="0" allowfullscreen></iframe><p>A huge thanks to the leaders there on the ASP.NET team who do the weekly standup and share their insight in this area.</p><h2>How About You?</h2><p>Do you have any tips for others using Visual Studio? Any tricks you think have helped you reach performance nirvana? Please share your thoughts below!</p><p>Happy Coding!</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;People, this is 2016. If you&#39;re waiting on your project to build or feel like your IDE is sluggish, it&#39;s time to inventory and make sure you have the optimal configuraiton for development rig. Let&#39;s talk quickly about the things that make your machine go fast (or slow) and some simple tweaks that can get your builds moving along more quickly.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://jcblogimages.blob.core.windows.net:443/img/2016/02/safemode.png&quot; alt=&quot;Launching VS in Safe Mode&quot;&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="Development" scheme="https://westerndevs.com/categories/Development/"/>
    
    
      <category term="Visual Studio 2015" scheme="https://westerndevs.com/tags/Visual-Studio-2015/"/>
    
  </entry>
  
  <entry>
    <title type="html">Leaving Your Work at Work (When You Work From Home)</title>
    <link href="https://westerndevs.com/Work-Life-Balance/leaving-your-work-at-work-when-you-work-from-home/" rel="alternate" type="text/html"/>
    <id>https://westerndevs.com/Work-Life-Balance/leaving-your-work-at-work-when-you-work-from-home/</id>
    <published>2016-02-01T11:56:56.000Z</published>
    <updated>2024-10-13T19:57:38.562Z</updated>
	<author>
	
	  
	  <name>James Chambers</name>
	  <email>james@jameschambers.com</email>
	
	  <uri>https://westerndevs.com</uri>
	</author>
    
    <content type="html"><![CDATA[<p><img src="https://jcblogimages.blob.core.windows.net:443/img/2016/01/shutting-down-banner.png" alt="Leaving Your Work at Work (When You Work From Home)"></p><p>Finding success as a remote worker is pretty darn hard. Unless you're a complete natural, you will need to have the perfect combination of environment, corporate trust, family time and personal time. Failing being perfect, you can just take the route I took and try your best to follow a few practices that can help you disconnect at the end of the day.</p><a id="more"></a><p>To that end, corporate trust is just as tricky a puzzle as the rest of the challenges for work-at-homes; however, provided you are working at or moving to a company that understands remote work and empowers you to succeed, there are things you need to be doing to build and maintain that trust.</p><h2>Establish A Routine</h2><p>When you work in an office, chances are you have some form of a daily ritual that you partake in. You have things you do when get up as you prepare for your workday explicitly, and maybe some that happen subconsciously. You make some eggs for your husband or some bacon for your wife while they get the kids ready for school. Maybe you spend time in some personal study. Eventually you start to make your way to the office on foot, by bike, in your vehicle or perhaps on some form of mass public transit. Some poor saps have even parted ways with their cash to buy Segways and, sadly, they use those to get where they're going. You swing by your favorite coffee joint, or meet up with co-workers in the lobby and chat on the elevator ride and at some point you find yourself at your desk.</p><p>The point is simply this: getting from point A to point B <em>is part of the routine</em>. You start thinking about work, your schedule, what happened last week. If your transportation is &quot;hands off&quot; then you can catch up on emails or start to plan your day out. The <em>transition</em> is more important than the destination in this case, but this is unfortunately the very thing that most remote workers will omit.</p><p>For me, I love <a href="http://jameschambers.com/2015/03/working-from-home-and-walking-to-work-surviving-remote-work/" target="_blank" rel="noopener">walking to and from work</a>. Yes, I work from home, but I've made the walk part of my ritual. In the morning it lets me tune into my work day and in the late afternoon when I'm leaving work I can reset and get ready to enjoy my family.</p><blockquote><p>Moving directly from a work context into a home context not only blurs the lines, but it discounts the fact that you need a different mindspace to manage your work than you do to manage your home.</p></blockquote><p>You need a line to say, &quot;this is where work stops and my personal life begins.&quot;</p><h2>Define Boundaries</h2><p>You have an agreement with your employer to perform certain units of work, but it's your responsibility to <a href="http://jameschambers.com/2016/01/work-is-not-life/" target="_blank" rel="noopener">set expectations accordingly</a>. That means that you should engage in practices that allow you to define a clean break from the work day.</p><p>One of the ways that I do this is by virtue of leaving my contact points at work. I have a Skype number that is associated with my work duties that I don't answer during evening and weekends. When I'm getting ready to leave work I change my email settings on my phone to only check for new mail on demand.</p><p>Another way to set boundaries is to actively engage in other things in the non-work times. That means dedicating time to your family, and if you must, signing your family up for things that happen during those evening and weekend hours, or getting involved with a group of friends that are active and motivated to do non-work-like things. This could be snowboarding, gaming, camping, playing music or hanging out for wings. If you make commitments that take you away from work, well, you can't work.</p><h2>Remember the Inverse</h2><p>Let's also note that the reverse must also hold true; if you are going to be setting limits on when you can and can't access work, you must also set limits on when you can and can't access &quot;home&quot;.  I have done this in a number of ways:</p><ul><li>I say &quot;good-bye&quot; to my wife and kids when I &quot;leave&quot; in the morning</li><li>I don't have a home phone in my office</li><li>I don't keep my personal cell phone handy</li><li>I don't check personal email during work time</li><li>I treat my time in my office as though I was in a different place than my home, as though others were working in the next office or room</li><li>Things like arranging child care or planning to shuttle kids between activies happens during the evening</li><li>My wife and kids don't re-engage with me until I come home and say &quot;hello&quot; again</li></ul><p>There are, of course, some exceptions to these rules and there must be. My oldest son lives with Type 1 Diabetes, so when my wife is unavailable to assist, I bring the house phone into my workspace for emergencies. When I am expecting a package or someone to swing by I will indeed answer the door. But these are things that you can also make your co-workers aware of so that the disruption is not something that derails your work and they know that it may be coming.  Emergencies, on the other hand, are emergencies and I don't think those should be viewed any differently by your team and management than they would if you were in the office.</p><h2>Shutting Down</h2><p>Here are a few tips to help you close things off at the end of the day.</p><ul><li>Flag important messages or tasks that need to be accomplished when you return the next working day.</li><li>Be sure to log your time daily and submit your timesheet - this is a trust device for your employer.</li><li>Change settings on your phone to check work email on demand.</li><li>If you will be away for an extended period of time or even just a long weekend, set away message.</li><li>Close everything. All your apps. Close your email client and your browser tabs and the TPS Report you're working on (including cover pages) and everything else that is on your system.</li></ul><p>With practices like these in place, you'll find that you actually have some peace of mind through the evening, knowing that you've tied things off at the end of the day. You don't have to worry about lost work, or missed follow-ups.</p><p>By the way, the same is also true when starting your day: you should have an easy way to get going in the morning so that as soon as you sit down at your computer you are ready to be productive and get into your daily flow. As a software developer, I actually have a script that I run that spins up my tools and opens the folders that I need so that everything I'll be working on is in front of me. Even if my computer has rebooted or applied updates, I am ready to rock out on my project in just a few seconds.  If you're interested, here's an example of a script I use to get my day started.</p><script src="https://gist.github.com/MisterJames/8a1548564202a1b96d1a.js"></script><p>Finally, wind down! <a href="http://jameschambers.com/2015/03/working-from-home-and-walking-to-work-surviving-remote-work/" target="_blank" rel="noopener">I walk home</a> on most days to disconnect from work. I have friend who hits the gym and others for whom the timing works to break off at the end of the day and go pick up the kids.</p><h2>Where Does This Leave You?</h2><p>If you are currently working at home and don't have these practices in place, it will take some time to work up to them. While they mostly seem simply on the surface, some habits are hard to break, and changing expectations is even more difficult if you've previously let work creep out of your home office.</p><p>As I always say when talking with folks about this, you really need to experiment and find the things that work for you for where you're at and keep evaluating if there are tweaks or corrections you need to make along the way.</p><p>Any effort to help you move away from the feeling of constantly being connected to work will help you better enjoy your evenings and weekends. I hope you find a few gems in here that encourage you to work towards that goal.</p><p>Happy relaxing! (Now, go spend some time with you family or friends!)</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;https://jcblogimages.blob.core.windows.net:443/img/2016/01/shutting-down-banner.png&quot; alt=&quot;Leaving Your Work at Work (When You Work From Home)&quot;&gt;&lt;/p&gt;
&lt;p&gt;Finding success as a remote worker is pretty darn hard. Unless you&#39;re a complete natural, you will need to have the perfect combination of environment, corporate trust, family time and personal time. Failing being perfect, you can just take the route I took and try your best to follow a few practices that can help you disconnect at the end of the day.&lt;/p&gt;
    
    </summary>
    
      <category term="Work Life Balance" scheme="https://westerndevs.com/categories/Work-Life-Balance/"/>
    
    
      <category term="Remote Work" scheme="https://westerndevs.com/tags/Remote-Work/"/>
    
      <category term="Life Hacks" scheme="https://westerndevs.com/tags/Life-Hacks/"/>
    
  </entry>
  
  <entry>
    <title type="html">Strongly-Typed Configuration in ASP.NET Core MVC</title>
    <link href="https://westerndevs.com/ASP-NET-Core/Strongly-Typed-Configuration-in-ASP-NET-Core-MVC/" rel="alternate" type="text/html"/>
    <id>https://westerndevs.com/ASP-NET-Core/Strongly-Typed-Configuration-in-ASP-NET-Core-MVC/</id>
    <published>2016-01-23T15:29:12.000Z</published>
    <updated>2024-10-13T19:57:38.558Z</updated>
	<author>
	
	  
	  <name>James Chambers</name>
	  <email>james@jameschambers.com</email>
	
	  <uri>https://westerndevs.com</uri>
	</author>
    
    <content type="html"><![CDATA[<p>Over the last <strong><a href="http://jameschambers.com/2016/01/Configuration-in-ASP-NET-Core-MVC/" target="_blank" rel="noopener">two</a></strong> <strong><a href="http://jameschambers.com/2016/01/json-config-in-aspnetcoremvc/" target="_blank" rel="noopener">posts</a></strong> I worked through the basics of configuration in ASP.NET and how to leverage structured data in your JSON config files. Now it's time to take a deeper look at how to access relevant parts of your configuration throughout the rest of your project.</p><p><img src="https://jcblogimages.blob.core.windows.net:443/img/2016/01/typed-settings.png" alt="Strongly-Typed Settings Classes in ASP.NET Core"></p><a id="more"></a><p>I contribute to an open source project called <a href="https://github.com/HTBox/allReady" target="_blank" rel="noopener">AllReady</a> from the <a href="http://htbox.org" target="_blank" rel="noopener">Humanitarian Toolbox</a>. One of the things that we do on the project is use Azure Storage Queues to send and process messages in a different execution context to keep our main application moving along nicely. In order to do this, I added some properties to the configuration file under a storage node:</p><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"Data"</span>: &#123;</span><br><span class="line">  <span class="string">"DefaultConnection"</span>: &#123;</span><br><span class="line">    <span class="string">"ConnectionString"</span>: <span class="string">"Server=(localdb)\\MSSQLLocalDB;Database=AllReady;Integrated Security=true;MultipleActiveResultsets=true;"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="string">"Storage"</span>: &#123;</span><br><span class="line">    <span class="string">"AzureStorage"</span>: <span class="string">"[storagekey]"</span>,    </span><br><span class="line">    <span class="string">"EnableAzureQueueService"</span>: <span class="string">"false"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Obviously, &quot;<code>[storagekey]</code>&quot; is not a valid key to access a storage account in Azure, but you'll notice that I also have a flag in there to enable/disable the queue service. By putting this in place, we can toggle the service used at dev time and, rather than writing to the queue, we can instead write to the local console. Of course, we have the propery key set in our Azure Web App so that it's loaded and overridden at run time with the correct value. I discussed nomenclature of the keys you'd use in my post on <a href="http://jameschambers.com/2016/01/json-config-in-aspnetcoremvc/" target="_blank" rel="noopener">JSON Configuration</a>.</p><h2>Exposing Configuration Accross the Application</h2><p>Now, to actually put the storage settings from our config in play, we're going to create a class to contain the properties that we will need to inspect at runtime.</p><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AzureStorageSettings</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> AzureStorage &#123; <span class="built_in">get</span>; <span class="built_in">set</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">bool</span> EnableAzureQueueService &#123; <span class="built_in">get</span>; <span class="built_in">set</span>; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>This class is a one-to-one mapping of the values we put in our <code>Storage</code> section. All that's left is to get the values from our configuration in there.</p><h2>The Options Pattern for Configuration</h2><p>Originally I was loading up these properties one-by-each, line after line of reading from the config and assigning the values to the instance of the <code>AzureStorageSettings</code> class. But in the fall I had the opportunity to work with <a href="https://github.com/rynowak" target="_blank" rel="noopener">Ryan Nowak</a> of the ASP.NET team and he showed me a much better approach with what the ASP.NET team refers to as the options pattern. It's basically closing the loop on the work we have above and giving us the ability to get at our configuration with strongy-typed objects.</p><p>As a reminder, our <code>Configuration</code> property back in <code>startup.cs</code> is an instance of an <code>IConfiguration</code>, built from the <code>ConfigurationBuilder</code> in our constructor. It contains all the data that we've added in key-value pairs, and we can now use that object to expose the information we need through our IoC container when we're configuring our services.</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">ConfigureServices</span><span class="params">(IServiceCollection services)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    services.Configure&lt;AzureStorageSettings&gt;(Configuration.GetSection(<span class="string">"Data:Storage"</span>));</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// other service configuration code here...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>What we have to do is call the <code>GetSection</code> method along with the corresponding path to where the object instance's properties will be loaded from. Our <code>Storage</code> information was in the <code>Data</code> property at the root of the document, so we pack it in as <code>Data:Storage</code> as the parameter to <code>GetSection</code>.</p><p>Now I've got configuration in my IoC container and I've got a class that represents the slice of configuration that I'm interested in. Now I want to mux those up and use it in my service (or controller or anything that is spun up with IoC). To do that I simply inject it into my constructor like so:</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">public</span> QueueStorageService(IOptions&lt;AzureStorageSettings&gt; <span class="keyword">options</span>)</span><br><span class="line">&#123;</span><br><span class="line">    AzureStorageSettings settings = <span class="keyword">options</span>.<span class="keyword">Value</span>;</span><br><span class="line">    </span><br><span class="line">    // <span class="keyword">work</span> <span class="keyword">with</span> settings</span><br><span class="line">    var cloudStorageKey = <span class="keyword">options</span>.<span class="keyword">Value</span>.AzureStorage;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>By simply accepting a parameter of type <code>IOptions&lt;AzureStorageSettings&gt;</code> in the constructor of my controller, the appropriate configuration elements are parsed out and provided to me in the <code>Value</code> property as an instance of my <code>AzureStorageSettings</code> class.</p><p>Note: You'll have to add a using statement to your controller or service for the <code>IOptions</code> interface:</p><pre><code>using Microsoft.Extensions.OptionsModel;</code></pre><h2>Wrapping Up</h2><p>So to review, there are a couple of things we need to do:</p><ul><li>Create the configuration section</li><li>Create an object that corresponds to our configuration properties</li><li>Expose the settings class in our IoC container</li><li>Leverage <code>IOptions&lt;&gt;</code> to inject the settings into our constructor</li></ul><p>As you can see, this is a powerful and efficient way to create strongly-typed configuration objects in your ASP.NET Core MVC projects. It takes a minute to wrap your head around the pieces that are in play, but we can do away with the old method of custom configuration sections and simply represent our configuration data as JSON.</p><p>Happy coding!</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Over the last &lt;strong&gt;&lt;a href=&quot;http://jameschambers.com/2016/01/Configuration-in-ASP-NET-Core-MVC/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;two&lt;/a&gt;&lt;/strong&gt; &lt;strong&gt;&lt;a href=&quot;http://jameschambers.com/2016/01/json-config-in-aspnetcoremvc/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;posts&lt;/a&gt;&lt;/strong&gt; I worked through the basics of configuration in ASP.NET and how to leverage structured data in your JSON config files. Now it&#39;s time to take a deeper look at how to access relevant parts of your configuration throughout the rest of your project.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://jcblogimages.blob.core.windows.net:443/img/2016/01/typed-settings.png&quot; alt=&quot;Strongly-Typed Settings Classes in ASP.NET Core&quot;&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="ASP.NET Core" scheme="https://westerndevs.com/categories/ASP-NET-Core/"/>
    
    
      <category term="ASP.NET Core" scheme="https://westerndevs.com/tags/ASP-NET-Core/"/>
    
  </entry>
  
  <entry>
    <title type="html">JSON Configuration in ASP.NET Core MVC</title>
    <link href="https://westerndevs.com/ASP-NET-Core/json-config-in-aspnetcoremvc/" rel="alternate" type="text/html"/>
    <id>https://westerndevs.com/ASP-NET-Core/json-config-in-aspnetcoremvc/</id>
    <published>2016-01-22T02:36:09.000Z</published>
    <updated>2024-10-13T19:57:38.562Z</updated>
	<author>
	
	  
	  <name>James Chambers</name>
	  <email>james@jameschambers.com</email>
	
	  <uri>https://westerndevs.com</uri>
	</author>
    
    <content type="html"><![CDATA[<p>Structured data in earlier versions of ASP.NET meant creating and registering custom types and configuration sections for our applications. In ASP.NET Core and in Core MVC, structured configuration is a breeze with support for JSON documents as the storage mechanism and the ability to flatten hierarchies into highly portable keys.</p><p><img src="https://jcblogimages.blob.core.windows.net:443/img/2016/01/json-structured-data.png" alt="Structured JSON Configuration"></p><a id="more"></a><p>You can see from the document snippet above, taken from the default project template, that we can easily achieve a well-structured, human-readible set of data.  Where we used to do something the the following:</p><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;appSettings&gt;</span><br><span class="line">  &lt;<span class="keyword">add</span> key=<span class="string">"Logging-IncludeScopes"</span> <span class="keyword">value</span>=<span class="string">"false"</span> /&gt;</span><br><span class="line">  &lt;<span class="keyword">add</span> key=<span class="string">"Logging-Level-Default"</span> <span class="keyword">value</span>=<span class="string">"verbose"</span> /&gt;</span><br><span class="line">  &lt;<span class="keyword">add</span> key=<span class="string">"Logging-Level-System"</span> <span class="keyword">value</span>=<span class="string">"Information"</span> /&gt;</span><br><span class="line">  &lt;<span class="keyword">add</span> key=<span class="string">"Logging-Level-Microsoft"</span> <span class="keyword">value</span>=<span class="string">"Information"</span> /&gt;</span><br><span class="line">&lt;/appSettings&gt;</span><br></pre></td></tr></table></figure><p>Our other option, of course, is going the custom object route, but that has always been a pain in the rear. Today we can do this:</p><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"Logging"</span>: &#123;</span><br><span class="line">  <span class="string">"IncludeScopes"</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="string">"LogLevel"</span>: &#123;</span><br><span class="line">    <span class="string">"Default"</span>: <span class="string">"Verbose"</span>,</span><br><span class="line">    <span class="string">"System"</span>: <span class="string">"Information"</span>,</span><br><span class="line">    <span class="string">"Microsoft"</span>: <span class="string">"Information"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Now the data that we have related to logging can be grouped into a logical fragment of the configuration file and can grow as required.</p><h2>Exploring a Common Example</h2><p>This organization is great and comes along with the benefit of being collapsable into a key-value pair.  We see evidence of this in the connection string, which is also located in the <code>appsettings.json</code> file:</p><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"Data"</span>: &#123;</span><br><span class="line">  <span class="string">"DefaultConnection"</span>: &#123;</span><br><span class="line">    <span class="string">"ConnectionString"</span>: <span class="string">"Server=(localdb)\\mssqllocaldb;Database=aspnet5-ConfigurationSample-ad90971f-6620-4bc1-ad28-650c59478cc1;Trusted_Connection=True;MultipleActiveResultSets=true"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>And when you want to pull it out of the stored configuration, you do so like this example from <code>startup.cs</code>:</p><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">services.<span class="keyword">AddEntityFramework()</span></span><br><span class="line"><span class="keyword"> </span>   .<span class="keyword">AddSqlServer()</span></span><br><span class="line"><span class="keyword"> </span>   .<span class="keyword">AddDbContext&lt;ApplicationDbContext&gt;(options </span>=&gt;</span><br><span class="line">        options.UseSqlServer(Configuration[<span class="string">"Data:DefaultConnection:ConnectionString"</span>]));</span><br></pre></td></tr></table></figure><p>Notice how the value of the <code>ConnectionString</code> property of the <code>DefaultConnection</code> object within the <code>Data</code> object at the root was stored as the key <code>Data:DefaultConnection:ConnectionString</code>. This is perfect for allowing overrides, such as using environment variables. This is further made handy by the fact that your settings in Azure are automatically loaded as environment variables into your application execution process at startup.</p><p>In your Azure Web App configuration, you would simply need to add a key named <code>Data:DefaultConnection:ConnectionString</code> and set the value accordingly. This means that developers can use LocalDB locally, and the app automatically lights up in the cloud with the real database.</p><h2>Next Up</h2><p>These key-value pairs are great, but in your application it would be a bother to have to load out each property by hand. In my next post I'm going to show you how to take a configuration section and turn it into a set of typed configuration options that can be used throughout your project.</p><p>Happy coding!</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Structured data in earlier versions of ASP.NET meant creating and registering custom types and configuration sections for our applications. In ASP.NET Core and in Core MVC, structured configuration is a breeze with support for JSON documents as the storage mechanism and the ability to flatten hierarchies into highly portable keys.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://jcblogimages.blob.core.windows.net:443/img/2016/01/json-structured-data.png&quot; alt=&quot;Structured JSON Configuration&quot;&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="ASP.NET Core" scheme="https://westerndevs.com/categories/ASP-NET-Core/"/>
    
    
      <category term="ASP.NET 5" scheme="https://westerndevs.com/tags/ASP-NET-5/"/>
    
      <category term="ASP.NET Core" scheme="https://westerndevs.com/tags/ASP-NET-Core/"/>
    
  </entry>
  
  <entry>
    <title type="html">Configuration in ASP.NET Core MVC</title>
    <link href="https://westerndevs.com/ASP-NET-Core/Configuration-in-ASP-NET-Core-MVC/" rel="alternate" type="text/html"/>
    <id>https://westerndevs.com/ASP-NET-Core/Configuration-in-ASP-NET-Core-MVC/</id>
    <published>2016-01-21T01:27:23.000Z</published>
    <updated>2024-10-13T19:57:38.558Z</updated>
	<author>
	
	  
	  <name>James Chambers</name>
	  <email>james@jameschambers.com</email>
	
	  <uri>https://westerndevs.com</uri>
	</author>
    
    <content type="html"><![CDATA[<p><img src="https://jcblogimages.blob.core.windows.net:443/img/2016/01/startup-config.png" alt="Config in Startup.cs"></p><p>ASP.NET Core MVC introduces a new configuration system that adds flexibility and simultaneously enables cross-platform support (in a way that makes sense on other platforms). In this post we're going to cover the basics of configuration and what you can expect as you look at the project template from File -&gt; New Project in Visual Studio 2015.</p><a id="more"></a><p><span class="side-note">ASP.NET Core was previously called ASP.NET 5, and before that ASP.NET vNext. ASP.NET Core MVC is what was referred to as MVC 6. The tooling and the branding will change in the weeks and months ahead, but the basics of configuration I detail here should remain relatively in-tact.</span></p><h2>Configuration Happens Early</h2><p>In earlier versions of MVC it is true that the configuration was loaded very early in the process. If you had values in your App.Config they got gobbled up at startup. The problem was, you didn't have a chance to really interact with the configuration system - it just was what it was. This usually meant that we would create our own systems for loading the values, we'd get creative in how we balanced config-time and run-time values and, in short, we'd have to do the heavy-lifting ourselves.</p><p>ASP.NET Core lets us be much more opinionated about what goes on while registering the configuration values. Sure, it does and should still load configuration pre-startup, but now we can play a role in the process.</p><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">public <span class="constructor">Startup(IHostingEnvironment <span class="params">env</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// Set up configuration sources.</span></span><br><span class="line">    var builder = <span class="keyword">new</span> <span class="constructor">ConfigurationBuilder()</span></span><br><span class="line">        .<span class="constructor">AddJsonFile(<span class="string">"appsettings.json"</span>)</span></span><br><span class="line">        .<span class="constructor">AddJsonFile($<span class="string">"appsettings.&#123;env.EnvironmentName&#125;.json"</span>, <span class="params">optional</span>: <span class="params">true</span>)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (env.<span class="constructor">IsDevelopment()</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        builder.<span class="constructor">AddUserSecrets()</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    builder.<span class="constructor">AddEnvironmentVariables()</span>;</span><br><span class="line">    Configuration = builder.<span class="constructor">Build()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>As you can see above, the first lines of code on the first bit of code our application contains what is needed to load our configuration.</p><h2>Configuration Happens Often, if You Like</h2><p>More importantly, we get a say in how and where the configuration is loaded from. A great example of this is that we can load a JSON file for the default config and then later use environment variables to overload those defaults.</p><p>That code above is the <code>Startup</code> method of the <code>Startup</code> class, and we're very certain about when the config is loaded and where from. We even get to test if we're in the development envionment.</p><p>This comes in handy when you're deploying to Azure or would like to test with your own values instead of making changes to the JSON config file that would otherwise be checked in with the project.</p><p>Speaking of which, you're going to likely need to store some values in there that you <em>will never want to share</em>, and that you'll never want to check into your repo. This would be things like API tokens for integration into third-party services and the like (think SendGrid, Twilio, PayPal and the like).</p><h2>Configuration Opens Doors for Secrets</h2><p>And that brings us to user secrets. It's still not clear how these guys are going to shake down - there's still active discussion about how it should be named and stored - but the idea is straightforward and lets you work locally with sensitive data without having to modify your config. You can think of them as &quot;environment variables for your project&quot;.</p><p>There is pretty basic tooling from the command line:</p><p><img src="https://jcblogimages.blob.core.windows.net:443/img/2016/01/user-secret.png" alt="User Secrets"></p><p>The secrets are stored in your user data here:</p><pre><code>%APPDATA%\microsoft\UserSecrets\</code></pre><p>If you've used secrets, there will be a sub-folder here for each project you've created. Depending on where they land, the secrets will likely be a combination of the project name and a GUID, but you can set this yourself in your project.json.</p><p>I'll do a follow-up post on user secrets and demonstrate in greater detail how to leverage it in your projects.</p><h2>Next Steps</h2><p>We're still in an RC period (should it be called beta?) and there are naming pieces yet to come, but there is nothing stopping you from learning about the configuration system in ASP.NET Core today. Grab a copy of Visual Studio 2015 - <a href="">hey, it's free!</a> - and start experimenting with the bits. Be sure to check back in the weeks ahead for more information about configuration in ASP.NET Core and Core MVC.</p><p>Happy coding!</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;https://jcblogimages.blob.core.windows.net:443/img/2016/01/startup-config.png&quot; alt=&quot;Config in Startup.cs&quot;&gt;&lt;/p&gt;
&lt;p&gt;ASP.NET Core MVC introduces a new configuration system that adds flexibility and simultaneously enables cross-platform support (in a way that makes sense on other platforms). In this post we&#39;re going to cover the basics of configuration and what you can expect as you look at the project template from File -&amp;gt; New Project in Visual Studio 2015.&lt;/p&gt;
    
    </summary>
    
      <category term="ASP.NET Core" scheme="https://westerndevs.com/categories/ASP-NET-Core/"/>
    
    
      <category term="ASP.NET 5" scheme="https://westerndevs.com/tags/ASP-NET-5/"/>
    
      <category term="ASP.NET Core" scheme="https://westerndevs.com/tags/ASP-NET-Core/"/>
    
  </entry>
  
  <entry>
    <title type="html">Everything You Need To Know About Microsoft Band 2 Battery Life</title>
    <link href="https://westerndevs.com/Code-Dive/Everything-You-Need-To-Know-About-Microsoft-Band-2-Battery-Life/" rel="alternate" type="text/html"/>
    <id>https://westerndevs.com/Code-Dive/Everything-You-Need-To-Know-About-Microsoft-Band-2-Battery-Life/</id>
    <published>2016-01-18T05:00:00.000Z</published>
    <updated>2024-10-13T19:57:38.546Z</updated>
	<author>
	
	  
	  <name>James Chambers</name>
	  <email>james@jameschambers.com</email>
	
	  <uri>https://westerndevs.com</uri>
	</author>
    
    <content type="html"><![CDATA[<p><img src="https://jcblogimages.blob.core.windows.net/img/2016/01/band-2.png" alt="Band 2"></p><p>The day the announcement was made for Band 2, I was watching the keynote and keeping my finger on F5, repeatedly refreshing my browser and eagerly waiting for the Band 2 &quot;Coming Soon&quot; page turn over to an &quot;Order Now&quot; page. The week before launch, I added my credit card as a saved card on the Microsoft store. As soon as the page flipped over, I pulled the trigger and reserved my new edition.</p><p>I've worn it every day since November 2, 2015 and here's what I've learned about the Microsoft Band 2 battery life, including tips on how to keep yours running <strong>all week long</strong>.</p><!-- more --><h2>Charging the Microsoft Band 2</h2><p>The Band is easily charged by unhinging the clasp and sliding the device off your wrist, then attaching the magnetized charger, which snaps automatically in place. A full charge for a fully depleted battery should run you less than two hours.</p><p><img src="https://jcblogimages.blob.core.windows.net/img/2016/01/band-2-charger.png" alt="Band 2 Charging"></p><h2>Battery Life</h2><p>Under normal usage, your Band will deplete about 30% per day. This includes getting notifications, syncing with your phone, controlling music, setting timers and alarms, using the daily heart rate tracking and buying coffee at Starbucks, should you be so inclined.</p><p>Adding workouts to your day will drive the battery down a little more quickly, and I seem to burn about 10% of my battery when I go for a 30 min run with GPS turned on.</p><h2>Charge Time</h2><p>The &quot;bottom half&quot; of the battery seems to charge a little quicker than the &quot;top half&quot;. What I mean is that going from 0%  to 50% seems to take about 40 minutes or so whereas from the 50% mark and higher, the Band 2 charges at a rate of about 1% per minute.</p><h2>My Routine</h2><p>The battery on my Band 2 lasts me through the week.  While it depletes every day about 30%, I also charge it every day during my daily routine and after workouts while I shower.  Here's a log from my last week of use starting with a full charge on Saturday:</p><ul><li>Sunday AM: 72%, charged to 91%</li><li>Monday AM: 66%, charged to 83%</li><li>Tuesday AM: 51%, charged to 70%</li><li>Tuesday workout: 60%, charged to 79%</li><li>Wednesday AM: 63%, charged to 80%</li><li>Thursday AM: 49%, charged to 64%</li><li>Thursday workout: 48%, charged to 63%</li><li>Friday AM: 50%, charged to 65%</li><li>Saturday AM: 31%, charged to 100%</li></ul><p>Basically, I'm charging it when I get ready in the AM, which doesn't quite catch it up for what it lost over the previous day. However, when I workout, I typically shower afterwards and this gives me an extra 15-20 minutes to charge it again. So, interestingly, I actualy use up the Band 2 battery <em>less</em> when I'm working out more.</p><h2>Cylcing the Charge</h2><p>Most Saturdays I actually wear my Band until the battery warning goes off, then I plug it in until fully charged. I called into the Microsoft support line and asked if this was a good practice for using and charging the Band 2 - essentially letting it run down through the week and then giving it a complete charge on the weekend. The support technician on the call agreed that this was a good strategy and commented that she has a similar routine. In the two-and-a-half months of use, I have not seen depreciating performance on the battery life.</p><h2>Charging Tips</h2><p>Here's a few things you can do to keep your Band 2 running all week:</p><ul><li>Keep your charger plugged in where you get ready in the AM</li><li>Clean the contacts before you attach the charger, and thouroughly after a workout</li><li>Try to let it run down once a week and give it a full charge</li><li>Buy a second charger if you need one, for example if you walk or ride to work</li></ul><p>Happy fitnessing!</p>]]></content>
    
    <summary type="html">
    
      Including tips on how to keep yours running all week long
    
    </summary>
    
      <category term="Code Dive" scheme="https://westerndevs.com/categories/Code-Dive/"/>
    
    
      <category term="Microsoft Band" scheme="https://westerndevs.com/tags/Microsoft-Band/"/>
    
  </entry>
  
  <entry>
    <title type="html">Your Work and Your Life are Not Intricately Intertwined</title>
    <link href="https://westerndevs.com/work-life-balance/Your-Work-and-Your-Life-are-Not-Intricately-Intertwined/" rel="alternate" type="text/html"/>
    <id>https://westerndevs.com/work-life-balance/Your-Work-and-Your-Life-are-Not-Intricately-Intertwined/</id>
    <published>2016-01-11T15:25:47.000Z</published>
    <updated>2024-10-13T19:57:38.546Z</updated>
	<author>
	
	  
	  <name>James Chambers</name>
	  <email>james@jameschambers.com</email>
	
	  <uri>https://westerndevs.com</uri>
	</author>
    
    <content type="html"><![CDATA[<p>You are <strong>always</strong> setting expectations. When you answer an email at 10pm, you are setting an expectation. When let a call go to voicemail at 6pm, you are setting an expectation.</p><a id="more"></a><p>These are difficult things to accept, especially if you're in competition for advancement or your employer is challenging your boundaries on a regular basis, but just remember that resetting expectations is much more difficult that setting them in the first place. Remembering that every action you take (or don't) defines how people will expect you to act in the future.</p><p>I am currently an employee and likely will be for the foreseeable future. My career aspirations do not include management despite the fact that I love to lead teams (there is a significant difference between the two, but I'll save that for a different post). I firmly believe that you can lead a work life and a personal life that are largely disconnected and be quite successful doing so.</p><p>As someone who has found incredible happiness in the <em>balance</em> between a happy home life and spending an appropriate amount of time on my career, I recently read a post that did not sit well with me at all. In &quot;distilling&quot; everything down in to what was needed in order to be productive, the author lists a set of &quot;rules&quot; that include this:</p><pre><code>Embrace the fact that work and life are intricately intertwined</code></pre><p>I'm going to tell you right now: there are a lot of things wrong with this rule. The rest of that post is laden with info from other sources and a ton of exercises that I can't see many people filling out, but the idea that I should somehow lose myself in dedication to work is terribly misguided.</p><p>Let's break it down.</p><h2>First Things First</h2><p>I want to add some clarity to my thought process here. The most confused aspect of the aforementioned rule is that the terms used are not well-defined. I will do that here, defining what &quot;work&quot; actually means, and how it is a fundamentally different concept than your job or your career.</p><p>First, let's talk about your <strong>work</strong>. Work is the list of assigned duties that you carry out, which often vary from day-to-day and may be transient in nature; you may be asked to perform a set of work for a prescribed period of time and later be assigned different work. For some people, their work will be consistent for the entirety of their employ, others it may change from month-to-month or day-to-day. But this is a good segue as there is a difference between your work and your job.</p><p>Your <strong>job</strong> is the collection of work and tasks you perform in exchange for a pay cheque. Your job helps you meet your financial obligations and help to contribute to your household income. The tasks assigned are usually out of your control, though many forward-thinking organizations offer some freedom over long-term assignments and let you speak into the types of tasks you take on. Your experience in other, previous jobs will open doors for you to take on greater challenges in your next job, which may be within the same organization. Again, organizations that get this will help you form a path, leading you through more complicated work and increasingly important tasks en route to helping you move to more senior roles. Admittedly, not all career paths provide this opportunity, and that's okay, too, the important thing is finding a job that supports your career.</p><p>Which leads me to the definition of <strong>career</strong>. Unlike the tasks you perform or the role you assume at a company, your career will never be fully articulated until you retire. That is, if retirement is indeed your endgame. If someone asks you what your career is today, your answer will likely be a point-in-time reflection of how you got to where you are. It is defined by the achievements you capture and the challenges you overcome. For some it will be a story of creativity and expression, for others it will be about dedication or service.</p><div class="notice">    I'd better drop a bonus definition in here: <b>passion</b>, in the context of "things you like to do". Your passion is that thing that you're likely thinking about or get easily distracted by. You've likely thought, "Someday I'd like to..." and completed that sentence with the thing that you want to be doing <i>now</i>. It can drive you and light you up and you are excited to talk about it with others. <i>That</i> is passion.</div><p>Others still will explain their career as the vehicle they used to chase a passion, rather than something they were passionate about. As a concrete example example of that, I've demonstrated capabilities in software development and have been on this career path for 20 years now, writing code and leading teams. However, as much as I like writing code, my <em>passion</em> is actually learning, mentoring, sharing my work and teaching others. My career has allowed me to access my passion, and today I get to speak at conferences across North America and volunteer at the computer labs at local middle and high schools.</p><h2>What You Should Really Embrace</h2><p>Okay, so if you're not going to embrace some kind of intertwined reality, what should you be chasing?</p><p>I believe the answer lies in sorting your crap out and remembering that the three things we talked about are tangible, distinct and sometimes disconnected or misaligned. Sometimes you won't like the <strong>work</strong> you're doing, but you will be completely happy with your <strong>job</strong>. Sometimes you take a <strong>job</strong> because you know you will enjoy the work for a period of time, but the <strong>job</strong> may not be helpful in advancing your <strong>career</strong>.</p><p>These things are okay, at least for a time. What you need to embrace is the fact that finding the perfect combination is very difficult, especially over the long haul. As your career objectives change, the job may no longer work for you as a tool to move down your career path. Sometimes you'll have an incredible job - great employer, solid pay and awesome co-workers - but the work you're assigned isn't what you like to be doing. Some people – it's happened to myself – will advance through an organization based on their performance into a role that they are not suitable for and will not find be successful at (this is known as the <a href="https://en.wikipedia.org/wiki/Peter_principle" target="_blank" rel="noopener">Peter Principle</a>).</p><p><img src="https://jcblogimages.blob.core.windows.net/img/2016/01/Peters_principle.png" alt="Advancement through success can sometimes lead to failure"></p><p>Rather than thinking of things in rules, let's instead think of things in truths. It is true that:</p><ul><li>You can have a job you love and be doing work that you don't enjoy</li><li>The work you are doing may be fulfilling, but doesn't give you opportunity to advance in your job</li><li>The job you have may serve you well today, but doesn't align with your career</li><li>You can (and should try to) outgrow your job</li><li>What is considered a promotion by your employer may permanently lead to work that is not of your liking</li><li>Your choice in career may change, which can lead to instability in your happiness with your work and/or job</li><li>There is going to be work you don't like to do in nearly every job you take</li><li>Your work, job and career may or may not help you operate inside your passion</li></ul><p>I don't want to constantly attend to the negative, I want to focus on the things that are going right and look for signals that I am on the correct path. These green flags tell me that I am moving in the direction that I want to be in, and help me keep a healthy balance between my personal life and what I do in my job. When pondering where I'm at with my work, job and career, I ask myself questions from this reflection list:</p><ul><li>Do I have something to offer the people I work with and for?</li><li>Am I working with co-workers that can help me grow?</li><li>Is the work I am doing meaningful to me?</li><li>Does my job give me the freedom to think for myself?</li><li>Does the work I'm doing align with my ethics?</li><li>Is there a way for me to advance my career or follow my passion?</li><li>When I outgrow where I am, is there a place for me to go?</li><li>Does my job require effort within the bounds of a reasonable workday?</li><li>Am I still interested in the career story that is unfolding ahead of me?</li></ul><p>If I've got positive answers for several of these, I know I'm in a good spot. On the other hand, failing to meet my criteria here on a couple of points could be a sign that there needs to be a change of season. These questions may not be exactly what you need, but the exercise is what I believe we all need to embrace; the answers are dynamic and are going to change over time, so you need to find questions that help you identify your measure of happiness.</p><h2>An Employer's Role in Your Work, Job and Career</h2><p>In it's simplest terms, I believe that an employer's job begins with the assignment of meaningful, relevant tasks and ends with a paycheque. In between that space there is opportunity to challenge an employee, to contribute to their growth and provide guidance on how to develop their skills in such a way that it serves the company and helps to realize the goals of the individual, wherever possible.</p><p>As employees we have to concede that an employer is concerned with generating income in greater magnitude than expense as they execute the services their clients depend on. Even when we're at a job we enjoy we will likely be tasked with actions we would not choose for ourselves. We need to be clear about our broader goals and, when appropriate, be honest when our <strong>work</strong> or our <strong>job</strong> is not checking off things from our reflection list.</p><p>If an employer is mentoring you to make your work part of your life, I boldly challenge you to push back and define strong bounds through which your work cannot cross. Someone in a mentorship role who guides employees with banter of blending work and life is clearly not interested in the career of the employee, and places higher weight on the importance of completed work than on the individual. I don't want to work <em>there</em>.</p><h2>Why Work Isn't &quot;Intricately Intertwined&quot; With Your Life</h2><p>I will yield that the original post did not prescribe an explanation of &quot;work&quot;, which is why I have above, so I'll argue this from the perspective of both &quot;work&quot; and &quot;job&quot; as I've defined in this article.</p><p>The separation of work is easy; work is a task and usually requires the context of your <em>work environment</em>. An engineer can't complete blueprints without the requisite software, a counsellor cannot complete an evaluation without a patient and someone in janitorial cannot wax the floors without the buffing machine. And the floor. These are the types of things that can easily be slotted into your work schedule and, when you are good with time management, need not spill into your personal life on any regular frequency.</p><p>The separation of job and your life is a little less trivial. To avoid carrying the stress of the day home you need to have establish some good practices around &quot;putting your tools down&quot;, disconnecting from the office on your way <em>out</em> of the office. This is going to be something different for everybody, for me it involves tearing down my workspace, closing applications and checking code in. To prevent bigger picture concerns from affecting your home life such as the economy or the sustainability of the company you work at you need to regard your employment in the correct light, namely that it is part of your career, but likely doesn't define it. And when your employer puts requirements into your job that breach your personal time, you will have some hard decisions to make.</p><p>Wherever you land, you need time to recharge. I agree with the sentiment from the original post that suggests multitasking can have a negative affect on you. How, then, can you intertwine work with playing with your kids? How do you answer emails when on a secluded retreat with your spouse? If getting in the zone is as easy as taking 10-15 minutes of focus, then do that <em>during the workday</em>. The important thing is to define the bounds of that workday and maintain them.</p><h2>Some Well-Deserved Exceptions</h2><p>I know some incredible folks who have taken entirely different walks of life than I. They have found success in ways that would not work for me, as I have found success in ways that may not work for you. Here are some scenarios where your workday may bleed more frequently into your personal life.</p><p><strong>The Self-Employed</strong> Running your own business is hard work. You may be working across time zones, you may have travel considerations and you need to react quickly to clients in order to collect the revenues you need to stay afloat.</p><p><strong>Family Businesses</strong> While less common these days, the daily topics of family-run businesses will naturally find their way into conversations that happen outside of the work day. Reminders, follow-ups and even stress relief may happen when you find that every supper doubles as a staff party.</p><p><strong>Those Without Family</strong> I have friends who are not into the family scene and are living a single life. They have found that the cross-over tends to happen more naturally, but have also noted that they prefer to spend their time with friends or working on their career (versus servicing requests from work).</p><p><strong>When Travel is Required</strong> Travel is a tricky beast, but one that raises the requirement to really define when work starts and stops. As an obvious impairment to split out a normal work day, work-related travel increases the relevancy of strong boundaries when you are at home.</p><p><strong>Crunch Times</strong> These are realities for most folks in most fields: as a project closes, an emergency arises or a deadline approaches, a little extra effort is going to be required. You'll need to step up to successfully complete the tasks and stay in good standing with your employer.</p><p>In spite of these, I still believe that the cross-over time can be mitigated to a large degree. The important thing to do in these cases is to be more effective at communicating when the windows of work will be and ensuring that you have the support of those around you to help enforce it. Your husband or wife won't know that you are expecting a call unless you've found a way to share it with them.</p><h2>What to do With All of This</h2><p>First of all, don't sell the farm. If you're finding that something in your career, your job or your work is unsettling, make sure you have set of reasonable questions you can ask yourself to find out why. Talk with your employer about ways to make it right and, if needed, start to explore alternate work arrangements inside your organization, or outside of it.</p><p>One thing you can do, immediately, is to start blocking off time for your family and for you personally. This will help to give you time to connect with those that are important to you and reflect on what is becoming of your career. When I did this, I started to see - almost immediately - how I needed the time away from work in order to concentrate when I was there. It also paved the way for positive, sweeping changes in the time I spend with my wife and kids.</p><p>It would be remiss of me to omit some of the other beliefs that I have, namely that I put my family above my job, my ethics ahead of my work and my responsibility to my family's obligations ahead of my personal interests. This means that I have had to make difficult decisions at times in order to maintain integrity and, to be honest, I suppose I'm still a long way out from knowing whether or not those were the right decisions. The best I can hope for is that hindsight reveals that the decisions were right at that time for who I was.</p><p>Here is <a href="http://joelfromcanada.com/gettingshitdone/" target="_blank" rel="noopener">the blog post I referenced</a>, if you're interested.</p><p>I usually close by saying, &quot;happy coding!&quot; but in this case, this might be more appropriate: Happy career! :)</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;You are &lt;strong&gt;always&lt;/strong&gt; setting expectations. When you answer an email at 10pm, you are setting an expectation. When let a call go to voicemail at 6pm, you are setting an expectation.&lt;/p&gt;
    
    </summary>
    
      <category term="work-life-balance" scheme="https://westerndevs.com/categories/work-life-balance/"/>
    
    
  </entry>
  
  <entry>
    <title type="html">The Humanitarian Toolbox AllReady Code-a-Thon</title>
    <link href="https://westerndevs.com/_/the-humanitarian-toolbox-allready-code-a-thon/" rel="alternate" type="text/html"/>
    <id>https://westerndevs.com/_/the-humanitarian-toolbox-allready-code-a-thon/</id>
    <published>2015-11-18T19:31:50.000Z</published>
    <updated>2024-10-13T19:57:38.566Z</updated>
	<author>
	
	  
	  <name>James Chambers</name>
	  <email>james@jameschambers.com</email>
	
	  <uri>https://westerndevs.com</uri>
	</author>
    
    <content type="html"><![CDATA[<p>I was recently in Seattle for the MVP Summit, one of the best ways to connect to product teams and really smart people from around the world. Every year I get to meet more of the team that builds the tools I use daily, reconnect with peers and catch up with friends. And I eat at Magiano's.</p><p>But this year, the MVP Summit was trumped in awesomeness as quickly at it came to a close as the very next morning the code-a-thon for the Humanitarian Toolbox kicked into high gear.</p><a id="more"></a><blockquote><p><strong>Want to join the cause?</strong> The easiest way to get started is to join our weekly Saturday morning call. We are online from 10AM CST to Noon CST every Saturday. <a href="http://twitter.com/CanadianJames" target="_blank" rel="noopener">Watch Twitter –&gt;</a> for the link just before 10AM.</p></blockquote><p>There are a lot of great projects out there. AllReady is great software with great purpose as well.</p><h2>Hack for a Cause</h2><p>Whenever disaster strikes a community – a forest fire, a tsunami, an earthquake – lives are impacted. Sadly, those with the fewest resources are often the ones at most risk after the disaster.</p><p>From November 6th to the 8th I was privileged to join in with about twenty other individuals from around the world to work on <a href="http://www.htbox.org/blog/allready-project-launched-at-visual-studio-2015-release-event" target="_blank" rel="noopener">AllReady</a>, an open source project that is curated by the Humanitarian Toolbox. AllReady is software that helps communities <em>organize</em> and <em>execute</em> efforts in preparedness so that those who are at risk are better equipped to make it out of a disaster in the best shape possible.</p><p><img src="http://jameschambers.com/wp-content/uploads/2015/11/image_thumb.png" alt="image" title="image"></p><p>The group of us descended to the Garage at Building 27 on Microsoft Campus. We hunkered down, plowed through hundreds of commits and many dozens of issues and pull requests.</p><p>It was an amazing experience. It was a group of really smart people, supported by folks on the ASP.NET team, building software that is going to change lives.</p><blockquote><p>To find out more about the awesome work that The Humanitarian Toolbox is doing, please <a href="http://htbox.org" target="_blank" rel="noopener">visit their site</a>.</p></blockquote><h2>Hack for Yourself</h2><p>There is a huge draw to dive in and help with a project that can affect so many people and thwart the negative impact of unfortunate conditions. Preparedness is so much more effective than disaster recovery.</p><p><img src="http://jameschambers.com/wp-content/uploads/2015/11/image_thumb1.png" alt="image" title="image"></p><p>So...it's a good reason to get involved. But if that's not enough, check out this tech stack:</p><ul><li>ASP.NET 5</li><li>MVC Framework 6</li><li>Azure Web Apps (Sites and Jobs)</li><li>Azure Storage (Tables and Queues)</li><li>AutoFac as the IoC container</li><li>MediatR as a messaging bus &amp; pub/sub provider</li><li>Entity Framework 7</li><li>GitHub and AppVeyor</li><li>SendGrid and Twilio</li></ul><p>I mean, <em>just look at that list</em>. That's like…<strong>all</strong> the buzzwords. And jumping in to help on this project is also jumping in to learn. This is an opportunity to work with world-class developers on a project that is striving to have great architecture. It runs on the cloud in cloud-like ways and uses technology that is going to be used for the next 5-10 years and beyond.</p><p><img src="http://jameschambers.com/wp-content/uploads/2015/11/image_thumb2.png" alt="image" title="image"></p><p>After the weekend, we drew to a close by having a retrospective where we worked through the next steps and where this project is headed. It's exciting to see the momentum building as more community members come on board and start making commits.</p><p><img src="http://jameschambers.com/wp-content/uploads/2015/11/image_thumb3.png" alt="image" title="image"></p><p>We've got a lot done in just a few weeks, and I'm excited to see it moving forward <em>daily</em>. </p><h2>Join In and Start Hacking</h2><p>The best part about the software is that everyone can contribute. I'm not going to lie, there are some advanced aspects of the project that will be hard to work through for junior developers. There are more aspects, still, that need the love of some senior developers. Regardless of where you are in the world or in your career, there is likely a task where you can get started.</p><p>If you have questions, reach out to me <a href="http://twitter.com/CanadianJames" target="_blank" rel="noopener"><em>on Twitter</em></a> and I'll help to get you started.</p><p>Happy coding! <img src="http://jameschambers.com/wp-content/uploads/2015/11/wlEmoticon-smile1.png" alt="Smile"></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;I was recently in Seattle for the MVP Summit, one of the best ways to connect to product teams and really smart people from around the world. Every year I get to meet more of the team that builds the tools I use daily, reconnect with peers and catch up with friends. And I eat at Magiano&#39;s.&lt;/p&gt;
&lt;p&gt;But this year, the MVP Summit was trumped in awesomeness as quickly at it came to a close as the very next morning the code-a-thon for the Humanitarian Toolbox kicked into high gear.&lt;/p&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title type="html">ApiController in ASP.NET 5? Nopesauce</title>
    <link href="https://westerndevs.com/_/apicontroller-in-asp-net-5-nopesauce/" rel="alternate" type="text/html"/>
    <id>https://westerndevs.com/_/apicontroller-in-asp-net-5-nopesauce/</id>
    <published>2015-11-03T05:44:15.000Z</published>
    <updated>2024-10-13T19:57:38.558Z</updated>
	<author>
	
	  
	  <name>James Chambers</name>
	  <email>james@jameschambers.com</email>
	
	  <uri>https://westerndevs.com</uri>
	</author>
    
    <content type="html"><![CDATA[<p>If you're developing in ASP.NET Web API you are familiar with the concept of inheriting from the base ApiController class. This class is still around in ASP.NET 5, but it is likely not meant for you to use.  Here's why your cheese has moved.</p><a id="more"></a><blockquote><p><strong>TL;DR</strong>: Going forward, you're going to inherit from Controller instead of ApiController, or from nothing at all.</p></blockquote><h2>How We Used to Do It</h2><p>This is pretty much the bread and butter of a new controller in an old Web API 2.0 project:</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">ValuesController</span> : <span class="title">ApiController</span></span><br><span class="line">&#123;</span><br><span class="line">    [<span class="meta">HttpGet</span>]</span><br><span class="line">    <span class="function"><span class="keyword">public</span> IEnumerable&lt;<span class="keyword">string</span>&gt; <span class="title">Get</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">string</span>[] &#123; <span class="string">"value1"</span>, <span class="string">"value2"</span> &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Nothing really too interesting here. We're inheriting from a base class so we get some methods to leverage for return types, we can access the identity of the user through an IPrincipal and we have an HttpContext available to inspect the request and modify the response.</p><h2>How to Do it Now</h2><p>In ASP.NET 5 we don't have the ApiController to inherit from, at least not out of the box. Instead we inherit from the Controller class.</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">ValuesController</span> : <span class="title">Controller</span></span><br><span class="line">&#123;</span><br><span class="line">    [<span class="meta">HttpGet</span>]</span><br><span class="line">    <span class="function"><span class="keyword">public</span> IEnumerable&lt;<span class="keyword">string</span>&gt; <span class="title">Get</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">string</span>[] &#123; <span class="string">"value1"</span>, <span class="string">"value2"</span> &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Pretty easy, right? We actually have three less characters. Some pieces have moved around such as Request and Response objects that live as properties at the class level, and our User is now a ClaimsPrincipal instead of an IPrincipal. You'll also find that there's a host of other things that do not seem really relevant at first glance to Web API (things like the service resolver and TempData).</p><p>These extra bits are peripheral, however; the takeaway is actually that we no longer have two separate sets of classes that represent concerns like controllers or routing, and we can go about getting at the important parts of the request in the same way from both types of controllers – there really is just one now.</p><h2>If You Still Want to Do It Now How We Used To</h2><p>There are perfectly good reasons to keep using the old format, perhaps you're at the start of a port project or some have some other reason to stay as-was. No problem, you're just going to have to pull in another package as it's not part of your project template by default. Simply edit your project.json to include the following package:</p><pre><code>Microsoft.AspNet.Mvc.WebApiCompatShim</code></pre><p>While this <em>is</em> here and you <em>can</em> use it, it's also likely a good time to evaluate if you <em>need</em> to use it. There are only a small set of refactorings that are required in order to use the unified interface and you can be</p><h2>Next Steps</h2><p>Make sure you've got <a href="https://www.visualstudio.com/?Wt.mc_id=DX_MVP4038205" target="_blank" rel="noopener">Visual Studio 2015</a>, you have <a href="http://docs.asp.net/en/latest/getting-started/installing-on-windows.html" target="_blank" rel="noopener">the latest beta installed</a> (at time of writing, beta 8), and give it a try. Happy coding <img src="http://jameschambers.com/wp-content/uploads/2015/11/wlEmoticon-smile.png" alt="Smile"></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;If you&#39;re developing in ASP.NET Web API you are familiar with the concept of inheriting from the base ApiController class. This class is still around in ASP.NET 5, but it is likely not meant for you to use.  Here&#39;s why your cheese has moved.&lt;/p&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title type="html">Supporting Options and Arguments in Your dnx Commands</title>
    <link href="https://westerndevs.com/_/supporting-options-and-arguments-in-your-dnx-commands/" rel="alternate" type="text/html"/>
    <id>https://westerndevs.com/_/supporting-options-and-arguments-in-your-dnx-commands/</id>
    <published>2015-09-10T18:00:53.000Z</published>
    <updated>2024-10-13T19:57:38.566Z</updated>
	<author>
	
	  
	  <name>James Chambers</name>
	  <email>james@jameschambers.com</email>
	
	  <uri>https://westerndevs.com</uri>
	</author>
    
    <content type="html"><![CDATA[<p>Grab yourself your copy of <a href="https://www.visualstudio.com/?Wt.mc_id=DX_MVP4038205" target="_blank" rel="noopener">Visual Studio 2015</a> and buckle up! Today we're going to create our own dnx command with support for options and arguments.</p><a id="more"></a><p>In my <a href="http://jameschambers.com/2015/08/writing-custom-commands-for-dnx-with-asp-net-5-0/" target="_blank" rel="noopener">previous post</a> on dnx commands I showed how you could create your own command as part of your project that could be invoked via the .Net Execution Environment, a.k.a., dnx. While this works fine in simple scenarios, chances are you might need to have more than one &quot;command&quot; embedded in your tooling. Right away you have concerns for parsing the arguments and options that are passed in, which will quickly lead to a more complex application than you were originally intending.</p><blockquote><p><strong>Important Note</strong>  I am building the samples here in this post on Beta 6, knowing that there are two changes coming in, the first is that they are dropping the project path argument to dnx (the period, or &quot;current directory&quot;), and the second being the high likelihood that there will continue to be refinements in the namespaces of these libraries. I'll update these when I complete my upgrade to Beta 7.</p></blockquote><h2>A Real-world Example</h2><p>Consider Entity Framework, where you can access a number of different commands. It provides tooling to your application by making a number of commands related to your project, your entities, your database and your context available from the command line. This is great, because it also means that you can use it in automation tasks.</p><p><img src="http://jameschambers.com/wp-content/uploads/2015/09/image2.png" alt="image" title="image"></p><p>Here's the command as executed from the command line, followed by a call to get the help on a specific command, migration:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">dnx . ef</span><br><span class="line">dnx . ef migration -h</span><br></pre></td></tr></table></figure><p>So, think about those switches for a second, and the mistakes and string manipulation you'd need to do to pull that all together. What about supporting help and organizing your commands? Being able to accept different options and arguments can grow to be an exhausting exercise in bloat…</p><h2>Unless!</h2><p>…unless, of course, you had an abstraction over those parsing bits to work with.  Quite wonderfully, Microsoft has made available the bits you need to take away those pains, and it all starts with the following package (and a bit of secret sauce):</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">Microsoft</span><span class="selector-class">.Framework</span><span class="selector-class">.CommandLineUtils</span><span class="selector-class">.Sources</span></span><br></pre></td></tr></table></figure><p>And here's the secret sauce…instead of using something like &quot;1.0.0-*&quot; for your version, use this instead: { &quot;version&quot;: &quot;1.0.0-*&quot;, &quot;type&quot;: &quot;build&quot; }. This notation bakes the abstractions into your application so that you don't have to bundle and distribute multiple DLLs/dependencies when you author and share commands.</p><blockquote><p>The full version of the final, working project in this post is <a href="https://github.com/MisterJames/DnxCommandsWithOptsArgs/" target="_blank" rel="noopener">available on GitHub</a>. Feel free to pull down a copy and try this out for yourself!</p></blockquote><p>Let's get started.</p><h2>Creating a Project</h2><p>As <a href="http://jameschambers.com/2015/08/writing-custom-commands-for-dnx-with-asp-net-5-0/" target="_blank" rel="noopener"><em>previously covered</em></a>, creating an ASP.NET 5 command line app is all that is required to get started with creating your commands. We have to add that package as a dependency as well, which should look like this in it's entirety in your project.json:</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">"dependencies": &#123;</span><br><span class="line">  "Microsoft.Framework.CommandLineUtils.Sources": &#123; "version": "1.0.0-*", "type": "build" &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br></pre></td></tr></table></figure><p>Next, we need to make sure that our command is available and named as we'd like it to be called, which is also done in the project.json. Mine looks like this:</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">"commands": &#123;</span><br><span class="line">  "sample-fu": "DnxCommandArguments"</span><br><span class="line">&#125;,</span><br><span class="line"> </span><br></pre></td></tr></table></figure><p>You can imagine, of course, that it will be invoked much like Entity Framework, but with &quot;sample-fu&quot; instead of &quot;ef&quot;. Feel free to name yours as you wish. With that out of the way, we can start to do the heavy lifting in getting our commands exposed to external tooling.</p><h2>Working with the CommandLineUtils Objects</h2><p>Here is a bare-bones application that just displays it's own help message:</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">Main</span>(<span class="params"><span class="keyword">string</span>[] args</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">var</span> app = <span class="keyword">new</span> CommandLineApplication</span><br><span class="line">    &#123;</span><br><span class="line">        Name = <span class="string">"sample-fu"</span>,</span><br><span class="line">        Description = <span class="string">"Runs different methods as dnx commands"</span>,</span><br><span class="line">        FullName = <span class="string">"Sample-Fu - Your Do-nothing dnx Commandifier"</span></span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// show the help for the application</span></span><br><span class="line">    app.OnExecute(() =&gt;</span><br><span class="line">    &#123;</span><br><span class="line">        app.ShowHelp();</span><br><span class="line">        <span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> app.Execute(args);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>You can see that our Main method is basically creating an instance of the CommandLineApplication class, initializing some properties and finally wiring up a Func to be executed at some point in the future.  Main returns the result of app.Execute, which in turn handles the processing of anything passed in and itself returns the appropriate value (0 for success, anything else for non-success).  Here it is in action (the completed version), simply by typing dnx . sample-fu at the commandline:</p><p><img src="http://jameschambers.com/wp-content/uploads/2015/09/image3.png" alt="image" title="image"></p><p>A quick note here as well…the OnExecute() is called if no other command turns out to be appropriate to run, as determined by the internal handling in CommandLineApplication. In effect, we're saying, &quot;If the user passes nothing in, show the help.&quot; Help is derived from the configuration of commands, so to illustrate that, we need to add one.</p><h2>Wiring Up a Command</h2><p>Now we get into the fun stuff. Let's write a command that takes a string as an argument and echos it right back out, and add an option to reverse the string.</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">app.Command(<span class="string">"display"</span>, c =&gt;</span><br><span class="line">&#123;</span><br><span class="line">    c.Description = <span class="string">"Displays a message of your choosing to console."</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> reverseOption = c.Option(<span class="string">"-r|--reverse"</span>, <span class="string">"Display the message in reverse"</span>, CommandOptionType.NoValue);</span><br><span class="line">    <span class="keyword">var</span> messageArg = c.Argument(<span class="string">"[message]"</span>, <span class="string">"The message you wish to display"</span>);</span><br><span class="line">    c.HelpOption(<span class="string">"-?|-h|--help"</span>);</span><br><span class="line"></span><br><span class="line">    c.OnExecute(() =&gt;</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">var</span> message = messageArg.Value;</span><br><span class="line">        <span class="keyword">if</span> (reverseOption.HasValue())</span><br><span class="line">        &#123;</span><br><span class="line">            message = <span class="keyword">new</span> <span class="keyword">string</span>(message.ToCharArray().Reverse().ToArray());</span><br><span class="line">        &#125;</span><br><span class="line">        Console.WriteLine(message);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>Command takes a name and an action in which we can add our options and arguments and process the input as required.  We write a Func for OnExecute here as well, which will be called if the user types the command &quot;display&quot;.  The option is implemented as a &quot;NoValue&quot; option type, so the parser is not expecting any value…it's either on the command line or it isn't.</p><p>The order of args is important, using the pattern:</p><p>    COMMAND OPTIONS ARGUMENTS</p><p>You'll get some errors if you don't follow that order (and there are some open GitHub issues to help make better parsing and error messages available).</p><h2>A More Complicated Example</h2><p>Next up, let's implement a command that can do one of two operations based on the option specified, and takes two values for an argument. Here a basic implementation of a calc method, supporting addition and multiplication:</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//  the "calc" command</span></span><br><span class="line">app.Command(<span class="string">"calc"</span>, c =&gt;</span><br><span class="line">&#123;</span><br><span class="line">    c.Description = <span class="string">"Evaluates arguments with the operation specified."</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> operationOption = c.Option(<span class="string">"-o|--operation &lt;operation&gt;"</span>, <span class="string">"You can add or multiply the terms specified using 'add' or 'mul'."</span>, CommandOptionType.SingleValue);</span><br><span class="line">    <span class="keyword">var</span> termsArg = c.Argument(<span class="string">"[terms]"</span>, <span class="string">"The numbers to use as a term"</span>, <span class="literal">true</span>);</span><br><span class="line">    c.HelpOption(<span class="string">"-?|-h|--help"</span>);</span><br><span class="line"></span><br><span class="line">    c.OnExecute(() =&gt;</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// check to see if we got what we were expecting</span></span><br><span class="line">        <span class="keyword">if</span> (!operationOption.HasValue())</span><br><span class="line">        &#123;</span><br><span class="line">            Console.WriteLine(<span class="string">"No operation specified."</span>);</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (termsArg.Values.Count != <span class="number">2</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            Console.WriteLine(<span class="string">"You must specify exactly 2 terms."</span>);</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// perform the operation</span></span><br><span class="line">        <span class="keyword">var</span> operation = operationOption.Value();</span><br><span class="line">        <span class="keyword">var</span> term1 = <span class="keyword">int</span>.Parse(termsArg.Values[<span class="number">0</span>]);</span><br><span class="line">        <span class="keyword">var</span> term2 = <span class="keyword">int</span>.Parse(termsArg.Values[<span class="number">1</span>]);</span><br><span class="line">        <span class="keyword">if</span> (operation.ToLower() == <span class="string">"mul"</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">var</span> result = term1 * term2;</span><br><span class="line">            Console.WriteLine(<span class="string">$" <span class="subst">&#123;term1&#125;</span> x <span class="subst">&#123;term2&#125;</span> = <span class="subst">&#123;result&#125;</span>"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">var</span> result = term1 + term2;</span><br><span class="line">            Console.WriteLine(<span class="string">$" <span class="subst">&#123;term1&#125;</span> + <span class="subst">&#123;term2&#125;</span> = <span class="subst">&#123;result&#125;</span>"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>Of note are the differences between the options and the arguments versus the first command. The option accepts one of two values, and the argument can accept exactly two values. We have to do a bit of validation on our own here, but these are the basic mechanics of getting commands working.</p><p>Taking it to the next level, you may wish to encapsulate your code in a class, or leverage the fact that DNX (and thus, your commands) are aware of the project context that you are running in…remember that if you are running in a project directory, you have the ability to read from the project.json.</p><h2>Next Steps</h2><p>Be sure to grab <a href="https://www.visualstudio.com/?Wt.mc_id=DX_MVP4038205" target="_blank" rel="noopener">Visual Studio 2015</a> and then start experimenting with commands. You can have a look at some of the other repos/projects that leverage CommandLineUtils, or check out the <a href="https://github.com/MisterJames/DnxCommandsWithOptsArgs/" target="_blank" rel="noopener">completed project from this post on GitHub</a>.</p><p>Happy Coding! <img src="http://jameschambers.com/wp-content/uploads/2015/09/wlEmoticon-smile1.png" alt="Smile"></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Grab yourself your copy of &lt;a href=&quot;https://www.visualstudio.com/?Wt.mc_id=DX_MVP4038205&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Visual Studio 2015&lt;/a&gt; and buckle up! Today we&#39;re going to create our own dnx command with support for options and arguments.&lt;/p&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title type="html">Upgrading NPM in Visual Studio 2015</title>
    <link href="https://westerndevs.com/_/upgrading-npm-in-visual-studio-2015/" rel="alternate" type="text/html"/>
    <id>https://westerndevs.com/_/upgrading-npm-in-visual-studio-2015/</id>
    <published>2015-09-03T02:31:14.000Z</published>
    <updated>2024-10-13T19:57:38.570Z</updated>
	<author>
	
	  
	  <name>James Chambers</name>
	  <email>james@jameschambers.com</email>
	
	  <uri>https://westerndevs.com</uri>
	</author>
    
    <content type="html"><![CDATA[<p>Visual Studio 2015 (<a href="https://www.visualstudio.com/?Wt.mc_id=DX_MVP4038205" target="_blank" rel="noopener"><em>download here</em></a>) ships with it's own version of several external tools, such as grunt, node and npm.  If you are wanting to take advantage of newer versions of these tools, you have three options:</p><a id="more"></a><ol><li>Wait for VS 2015 to upgrade the tooling and ship an update.</li><li>Hack the tooling proxies used by Visual Studio.</li><li>Use the built-in external tool path editor to slip your updated versions in.</li></ol><p>Waiting for updates is no fun. Let's hack a little.</p><h2>Wait a minute! Why are we doing this?</h2><img src="http://jameschambers.com/wp-content/uploads/2015/09/image_thumb.png" class="pull-right"><p>For me the primary motivator was the path length limitations in Windows. Nested node_modules folders buried 19 levels deep is no fun when you hit the max path length. For me, I was trying to share the files on OneDrive and hit 255 characters pretty quickly.</p><p>Older versions of npm resolved package dependencies by pulling in a package, creating a node_modules folder inside of it, then putting all the packages in there. Except, of course, if one of those packages contained more dependencies, then we were into the recursive bits of package resolution and very deep paths, ultimately toppling a lot of Windows tooling.</p><p>The latest major version of npm – version 3.0.x and above – creates a flat store of packages (very similar to what we know in NuGet) and only pulls one copy of each required version of each required package. Much nicer. So, back to the dicing!</p><h2>Hacking up the VS Tooling Proxies</h2><p>These are pretty straightforward, once you find them. For me, they were located in the following directory:</p><p>C:\Program Files (x86)\Microsoft Visual Studio 14.0\Common7\IDE\Extensions\Microsoft\Web Tools\External</p><p>For example, here the entire contents of npm.cmd:</p><pre><code>@&quot;%~dp0\node\node&quot; &quot;%~dp0\npm\node_modules\npm\bin\npm-cli.js&quot; %*</code></pre><p>The %~dp0 is the old command line way of bringing the current drive letter (the d in the command), the path (the letter p here) and the current directory of the executing script (represented by 0) into context. So, basically, &quot;start from where you're running&quot;. It's a very hard-to-read version of &quot;.&quot; in most other notations. So, the command is running node (which is an exe), passing in the VS version of npm, and pushing into it the rest of the parameters that were passed along. So, when VS issues an &quot;npm install&quot;, this command kicks in, runs npm via node and passes &quot;install&quot; as the command to npm.</p><p>With that knowledge, we can simply update the call that is proxied through to our current version. I installed node (which includes npm), then updated npm to the latest version (thanks to <a href="https://www.npmjs.com/package/npm-windows-upgrade" target="_blank" rel="noopener"><em>this module</em></a>) and updated my npm.cmd to the following:</p><pre><code>@&quot;C:\Program Files (x86)\nodejs\node.exe&quot; &quot;C:\Program Files (x86)\nodejs\node_modules\npm\bin\npm-cli.js&quot; %*</code></pre><p>Of course, here be dragons: I have no idea how stable this will be with updates to VS, and/or how badly you may be crippling features if you mess this up. So, make sure you take a backup of your scripts before modifying them.  This will be super-handy if you have some other requirement – like the order of params on tooling changes – but otherwise likely isn't needed. Thankfully, there is a UI-way of doing this, too.</p><h2>Not Hacking Your Visual Studio Tooling</h2><p>Probably a more pleasing solution for your boss.</p><p>This one is pretty straightforward as well, and can be done by right-clicking on the &quot;Dependencies&quot; node in Solution Explorer, or by typing &quot;external web tools&quot; in the QuickLaunch bar.</p><p>From here, just add a new entry and move it to the top. For me, npm is located in the nodejs install directory, and this is good enough to get VS to see it first.</p><p><img src="http://jameschambers.com/wp-content/uploads/2015/09/image_thumb1.png" alt="image" title="image"></p><p>Note, I did seem to have some issues with caching and/or gremlins here, so you may need to restart Visual Studio for the tooling paths to be picked up.</p><h2>What I Don't Like</h2><p>Couple of things here that I don't care for:</p><ol><li><strong>Not consistent between team members</strong>: there seems to be no way to put in your solution/project a hint at the version of tooling you wish to use. In my case, a developer with npm 2 trying to run an install off of OneDrive would fail.</li><li><strong>Visual Studio external tools are internal</strong>: yeah, you read that right. I'm not a fan of the way these projects are packed in, in such a way that the path to update them or pick versions is non-obvious.</li></ol><h2>Next Steps</h2><p>Not too much to do, but if you run into long paths, nested node_modules kicking your butt or other out-of-date tooling, this should get you on your way.</p><p>Make sure you grab your <a href="https://www.visualstudio.com/?Wt.mc_id=DX_MVP4038205" target="_blank" rel="noopener"><em>copy of VS 2015</em></a> and start diving into the next phase of our careers!</p><p>Happy coding! <img src="http://jameschambers.com/wp-content/uploads/2015/09/wlEmoticon-smile.png" alt="Smile"></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Visual Studio 2015 (&lt;a href=&quot;https://www.visualstudio.com/?Wt.mc_id=DX_MVP4038205&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;&lt;em&gt;download here&lt;/em&gt;&lt;/a&gt;) ships with it&#39;s own version of several external tools, such as grunt, node and npm.  If you are wanting to take advantage of newer versions of these tools, you have three options:&lt;/p&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title type="html">Writing Custom Commands for DNX With ASP.NET 5.0</title>
    <link href="https://westerndevs.com/_/writing-custom-commands-for-dnx-with-asp-net-5-0/" rel="alternate" type="text/html"/>
    <id>https://westerndevs.com/_/writing-custom-commands-for-dnx-with-asp-net-5-0/</id>
    <published>2015-08-14T01:50:41.000Z</published>
    <updated>2024-10-13T19:57:38.570Z</updated>
	<author>
	
	  
	  <name>James Chambers</name>
	  <email>james@jameschambers.com</email>
	
	  <uri>https://westerndevs.com</uri>
	</author>
    
    <content type="html"><![CDATA[<p>If you are a developer on the .NET stack, you've now got access to a great new extension to your development environment. DNX, or the .NET Execution Environment, is a powerful new extensibility point that you can leverage to build project extensions, cross-platform utilities, build-time extensions and support for automation. In this article I'll walk you through the process of building your own custom DNX command on top of ASP.NET 5.0.</p><a id="more"></a><h2>Where You've Seen It</h2><p>DNX has the ability to scan a project.json and look for commands that you install as packages or that you create yourself. If you've started following the examples of the MVC Framework or perhaps with Entity Framework, you may have seen things like this in your project.json:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"commands"</span>: &#123;</span><br><span class="line">  <span class="string">"web"</span>: <span class="string">"Microsoft.AspNet.Hosting --config hosting.ini"</span>,</span><br><span class="line">  <span class="string">"ef"</span>: <span class="string">"EntityFramework.Commands"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><img src="http://jameschambers.com/wp-content/uploads/2015/08/image_thumb2.png" class="pull-right"><p>These entries are here so that DNX understands the alias you assign (such as &quot;web&quot; or &quot;ef&quot;) and how it maps to an assembly that you've created or taken on as a dependency.  The EF reference is quite straightforward above, simply saying that any call to &quot;ef&quot; via DNX will go into the entry point in EntityFramework.Commands.  You would invoke that as follows from the directory of your <em>project</em>:</p><pre><code>dnx . ef</code></pre><p>All parameters that are passed in are available to you as well, so if you were to instead use:</p><pre><code>dnx . ef help migration</code></pre><p>Then EF would be getting the params &quot;help migrations&quot; to parse and process. As can be clearly seen in the &quot;web&quot; alias, you can also specify defaults that get passed into the command when it is executed, thus, the call to web in the above project.json passes in the path and filename of the configuration file to be used when starting IIS express.</p><p>There is no special meaning to &quot;ef&quot; or &quot;web&quot;. These are just names that you assign so that the correct mapping can be made. If you changed &quot;ef&quot; to &quot;right-said-fred&quot; you would be able to run migrations from the command line like so:</p><pre><code>dnx . right-said-fred migration add too-sexy</code></pre><p>Great! So you can create commands, pass in parameters and share these commands through the project.json file. But now what?</p><h2>Now What?</h2><p>I'm so glad you asked!</p><p>So far things really aren't too different from any other console app you might create. I mean, you can parse args and do whatever you like in those apps as well.</p><p>But here's the winner-winner-chicken-dinner bits: did you notice the &quot;.&quot; that is passed into DNX? That is actually the path to the project.json file, and this is important.</p><blockquote><p><strong>Important Note</strong>: From beta 7 onward (or already if you're on the nightly builds) DNX will implicitly run with an appbase of the current directory, removing the need for the &quot;.&quot; in the command. I'll try to remember to come back to this post to correct that when beta 7 is out in the wild. Read more about the change on the <a href="https://github.com/aspnet/Announcements/issues/52" target="_blank" rel="noopener">ASP.NET Announcement repo</a> on GitHub.</p></blockquote><p>DNX doesn't actually do a lot on its own, not other than providing an execution context under which you can run your commands. But this is a good thing! By passing in the path to a project.json, you feed DNX the command mappings that you want to use, and in turn, DNX provides you with all of the benefits of running inside of the ASP.NET 5.0 bits. Your console app just got access to Dependency Injection as a first-class citizen in your project, with access to information about whichever app it was that contained that project.json file. </p><p>Consider the EF command mapping again for migrations for a second: what is going on when you tell it to add a migration?  It goes something like this:</p><ol><li>DNX looks for the project.json at the path you provide</li><li>It parses the project.json file and finds the command mapping associated with your statement</li><li>I <strong><em>creates an instance</em></strong> of the class that contains your command, injecting environment and project information as is available</li><li>It checks the rest of what you've passed in, and invokes the command, passing in any parameters that you've supplied</li></ol><h2>How to Build Your Own</h2><p>This is actually super easy!  Here's what you need to do:</p><ol><li>Create a new ASP.NET 5 Console Application in Visual Studio 2015</li><li>Add any services interfaces you need as parameters to the constructor of the Program class – but this is optional in the &quot;hello dnx&quot; realm of requirements</li><li>Add your logic to your Main method – start with something as simple as a Console.WriteLine statement</li></ol><p>From there, you can drop to a command line and run your command. That's it!</p><blockquote><p><strong>Pro Tip</strong> You can easily get a command line in your project folder by right-clicking on the project in Solution Explorer and selecting &quot;Open Folder in File Explorer&quot;. When File Explorer opens, simply type in &quot;cmd&quot; or &quot;powershell&quot; in the location bar and you'll get your shell.</p></blockquote><p>The secret as to why it works from the console can be found in your project.json: when you create a console app from the project templates, the command alias mapping for your project is automatically added to your project.  In this same way, along with referencing your new command project, <em>other projects</em> can now consume your command.</p><h2>Beyond Hello World</h2><p>It is far more likely that you're going to need to do something in the context of the project which uses your command. Minimally, you're likely going to need some configuration drawn in as a default or as a parameter in your command. Let's look at how you would take that hello world app you created in three steps and do something a little more meaningful with it.</p><p>First, let's add some dependencies to your project.json:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"dependencies"</span>: &#123;</span><br><span class="line">    <span class="string">"Microsoft.Framework.Runtime.Abstractions"</span>: <span class="string">"1.0.0-beta6"</span>,</span><br><span class="line">    <span class="string">"Microsoft.Framework.Configuration.Abstractions"</span>: <span class="string">"1.0.0-beta6"</span>,</span><br><span class="line">    <span class="string">"Microsoft.Framework.Configuration.Json"</span>: <span class="string">"1.0.0-beta6"</span>,</span><br><span class="line">    <span class="string">"Microsoft.Framework.Configuration.UserSecrets"</span>: <span class="string">"1.0.0-beta6"</span>,</span><br><span class="line">    <span class="string">"Microsoft.Framework.Configuration.CommandLine"</span>: <span class="string">"1.0.0-beta6"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Now let's add a new JSON file to our project called config.json with the following contents:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">"command-text"</span>: <span class="string">"Say hello to my little DNX"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Getting there. Next, let's bulk up the constructor of the Program class, add a private member and a Configuration property:</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">readonly</span> IApplicationEnvironment _appEnv;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">Program</span>(<span class="params">IApplicationEnvironment appEnv</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    _appEnv = appEnv;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> IConfiguration Configuration &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br></pre></td></tr></table></figure><p>We also need to add a method to Program that handles loading the config, taking in what it can from the config file, but loading on top of that any arguments passed in from the console:</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">BuildConfiguration</span>(<span class="params"><span class="keyword">string</span>[] args</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">var</span> builder = <span class="keyword">new</span> ConfigurationBuilder(_appEnv.ApplicationBasePath)</span><br><span class="line">        .AddJsonFile(<span class="string">"config.json"</span>)</span><br><span class="line">        .AddCommandLine(args);</span><br><span class="line"></span><br><span class="line">    Configuration = builder.Build();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Finally, we'll add a little more meat to our our Main method:</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="keyword">string</span>[] args</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    BuildConfiguration(args);</span><br><span class="line"></span><br><span class="line">    Console.WriteLine(Configuration.Get(<span class="string">"command-text"</span>));</span><br><span class="line">    Console.ReadLine();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>The above sample can now be executed as a command. I've got the following command mapping in my project.json file (yes, the same project you use to create the command can also expose the command):</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"commands"</span>: &#123;</span><br><span class="line">    <span class="string">"DnxCommands"</span>: <span class="string">"DnxCommands"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>This means that from the console in the dir of my project I can just type in the following:</p><pre><code>dnx . DnxCommands</code></pre><p>I can also now reference this project from any other project (or push my bits to NuGet and share them to any project) and use the command from there. Other projects can add the &quot;command-text&quot; key to their config.json files and specify their own value, or they can feed in the parameter as an arg to the command:</p><pre><code>dnx . DnxCommands command-text=&quot;'Pop!' goes the weasel&quot;</code></pre><p>In my <a href="https://github.com/MisterJames/DnxCommands/" target="_blank" rel="noopener">sample solution on GitHub</a>, I also have a second project which renames the alias and has it's own config file that is read in by the command.</p><h2>Next Steps</h2><p>All of this opens the doors for some pretty powerful scenarios. Think about what you can do in your build pipeline without having to write, expose and consume custom msbuild targets. You can create commands that are used to build up local databases for new environments or automate the seeding of tables for integration tests. You could add scaffolders and image optimizers and deployment tools and send text messages to your Grandma.</p><p>What you should do next is to look at the kinds of things you do when you're working on your solution – not in it – and think about how you might be able to simplify those tasks. If there are complex parts of your build scripts that you encounter from one project to the next, perhaps you can abstract some of those bits away into a command and then shift to using simplified build scripts that invoke your commands via DNX.</p><p>To get some inspiration, check out my <a href="https://github.com/MisterJames/DnxCommands/" target="_blank" rel="noopener">sample project on GitHub</a>, the DNX commands for other libraries (such as<span style="text-decoration: line-through;">EF</span> or <span style="text-decoration: line-through;">xUnit</span>) and try writing a few of your own.</p><p>Happy coding! <img src="https://jcblogimages.blob.core.windows.net/img/2015/08/wlEmoticon-smile1.png" alt="Smile"></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;If you are a developer on the .NET stack, you&#39;ve now got access to a great new extension to your development environment. DNX, or the .NET Execution Environment, is a powerful new extensibility point that you can leverage to build project extensions, cross-platform utilities, build-time extensions and support for automation. In this article I&#39;ll walk you through the process of building your own custom DNX command on top of ASP.NET 5.0.&lt;/p&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title type="html">Converting .NET 4.6 Projects to the VS 2015 Project System</title>
    <link href="https://westerndevs.com/_/converting-net-4-6-projects-to-the-vs-2015-project-system/" rel="alternate" type="text/html"/>
    <id>https://westerndevs.com/_/converting-net-4-6-projects-to-the-vs-2015-project-system/</id>
    <published>2015-08-14T01:22:51.000Z</published>
    <updated>2024-10-13T19:57:38.562Z</updated>
	<author>
	
	  
	  <name>James Chambers</name>
	  <email>james@jameschambers.com</email>
	
	  <uri>https://westerndevs.com</uri>
	</author>
    
    <content type="html"><![CDATA[<p>To take advantage of multi-targeted outputs from our project – allowing our assemblies to be used from multiple frameworks across the organization – we want to upgrade our projects to use the new project system in Visual Studio 2015. Previously, we would have needed a base project and then a separate project for each framework target (PCL, 4.5, 3.5, 4.5.2, etc), but in today's solutions we can have a single project output all of the assets we wish to support.</p><a id="more"></a><blockquote><p><em>In this series we're working through the conversion of <a href="http://clear-measure.com/" target="_blank" rel="noopener">Clear Measure's</a> <a href="https://github.com/ClearMeasureLabs/ClearMeasureBootcamp/" target="_blank" rel="noopener">Bootcamp MVC</a> 5-based application and migrating it to MVC 6. You can track the entire series of posts from the <a href="http://jameschambers.com/2015/07/upgrading-a-real-world-mvc-5-application-to-mvc-6/" target="_blank" rel="noopener">intro page</a>.</em></p></blockquote><h2>Recreating the Solution and Projects</h2><p>As of right now, there are no tools in place that would support an in-place migration from the old project system to the new one. Because we wanted to preserve project naming and namespaces, I copied everything out into a new directory – the solution and the projects – and rebuilt the solution from scratch.</p><p>I would anticipate a project conversion process at some point, even one that was able to provide the basics (like moving package dependencies to project.json) and guidance on the remaining pieces (like why part of the project wasn't able to convert, and how you might approach it). This post will walk through those steps of the conversion, but it will be done manually.</p><p>I wanted to maintain all the same names of the assemblies, namespaces and outputs, and the only way to currently do this is to clear out the src folder and start over. Don't worry, our code is still good, we just have to wrangle it into new containers.</p><h2>Step 0: Folder Reorganization</h2><p>One of the first changes that I made was a reorganization of the tooling that is used to support the build. Some of the build script relied on packages existing on disk (NUnit's console runner, AliaSql) but this is an order-of-operations problem. When you grab the solution from the repo, you're not actually able to build it until you restore the packages. Further, these assets are **solution-level **concerns, not project-level concerns, so which project do you install them into? NuGet does not have the concept of solution-level packages that apply to the solution itself, so while it works perfectly well for projects, NuGet is inherently not ideal for incorporating solution dependencies.</p><p>To remedy this, I have moved these types of assets into a tools folder and updated the build scripts accordingly. This approach is likely a matter of opinion more than anything, but the reality is that we want the directory structure to reflect which concerns <strong><em>are in</em></strong> the solution versus which concerns <strong><em>work on</em></strong> the solution.</p><p>I would like to note that there are still improvements to be made here – for instance, I know many teams actually have build scripts that are capable of not only restoring packages, but have the ability to go and grab NuGet itself – so expect some more changes as we continue to move through this migration. Automation is <em>awesome</em>.</p><h2>Step 1 – Core</h2><img src="http://jameschambers.com/wp-content/uploads/2015/08/image_thumb.png" class="pull-right"><p>Our Core project was a breeze to port because it's at the heart of the system in an <a href="http://jeffreypalermo.com/blog/the-onion-architecture-part-1/" target="_blank" rel="noopener">Onion Architecture</a> and takes on very few dependencies. I started the conversion by going through the motions of creating a new Core project, using the DLL project from the &quot;Web Templates&quot; part of the dialog.  The first project also creates the solution, and the convention for the way the solutions are laid out on disk has changed.</p><p>So…the build broke.</p><p>Thankfully, this was easy to resolve with just a couple of quick fixes, but you'll likely have to take similar steps on your project:</p><ul><li>First, update your paths to point at the correct location on disk</li><li>Second, comment out all the build steps that have to come later, like running unit or integration tests</li></ul><img src="http://jameschambers.com/wp-content/uploads/2015/08/image_thumb1.png" class="pull-right"><p>We can't run unit tests quite yet (we need to convert those projects as well), but we can make sure that the project is building correctly.</p><p>We're not modifying code at this point, so provided we can get the solution building we can have a good level of confidence – but not a guarantee – that our code is still in good shape. We want those tests back online before we merge this branch back to develop.</p><p>With the build running, I was able to jump back into Visual Studio and start adding back the code. In my case, nearly everything worked just by copying in the files from my backup location and pasting them into the project. It's a bit tedious, but it's by no means difficult or complicated.</p><p>The only package that I had to add at this point was a legacy dependency from NHibernate, namely the Iesi.Collections package. This is done by opening up the project.json for Core and updating the &quot;dependencies&quot; part of the project file. As soon as you save the file out, Visual Studio goes off and runs a background install of the packages that it finds you've put in there, along with any dependencies of those packages.</p><p><img src="http://jameschambers.com/wp-content/uploads/2015/08/image2.png" alt="image" title="image"></p><p>Finding the right package and most recent version is quite easy in the project.json world. As you start typing a package name, in-line search kicks in and starts suggesting matches. Available versions of the packages are displayed, and VS indicates if those packages are available locally in a cache or found on a remote NuGet repository, indicated by the icon you see. All packages sources are queried for package information, so you can get packages and their version information from private repositories as well.</p><p>Once the packages were restored the solution built fine in Visual Studio 2015 and I was able to return to my console to run the build script.</p><p><img src="http://jameschambers.com/wp-content/uploads/2015/08/image3.png" alt="image" title="image"></p><h2>Step 2: Data Access</h2><p>Other than the fact that Data Access has a few more dependencies, it was really more of the same to get the Data Access project online and building through our script. I added another DLL to the solution, added the source files and installed the dependencies via project.json.</p><p>When I compiled the project at this point, some of the changes of the .NET Framework and the strategy of the team started to surface. For instance, typically you might find a reference to System.Data from your GAC in a project, however, in the new cross-platform project system and under the assumption that you may not have a GAC at all, the .NET folks have taken the mantra of &quot;NuGet all the things.&quot; To get access to the System.Data namespace and the IDataReader interface that was used in the DataAccess project, I had to add a reference to System.Data version 4.0.0 from NuGet (via project.json).</p><p>Other projects will have similar hits on moved packages. It is likely safe to use the GAC in situations where you know what the build environment looks like and are sure that build agents and other developers will have access to the required dependencies. But it is a more stable approach – and a better chance to successful compile our application – to instead reference those binaries from a package repository.</p><p>The other notable piece was in how we reference other projects in our own solution; today they look a lot like referencing other packages. Whether you go through the Add Reference dialog or if you prefer to edit the project file by hand, you're going to also need to introduce a dependency on Core, which is done simply by adding the following line to the dependencies:</p><div class="notice"><pre><code>&quot;Core&quot;: &quot;1.0.0-*&quot;</code></pre></div><p>Excellent! Almost ready to build!</p><h2>Step 3: Clean Up</h2><p>Just a couple of other notes that I took and a couple of tips I've learned as I created these projects:</p><ul><li>You'll have to set the default namespaces so that new classes that are introduced adhere to your conventions</li><li>You need to enable the &quot;Produce outputs on build&quot; in order for your project to build a NuGet package (this is in the build options)</li></ul><p>You're also in charge of wiring up any dependencies your modules need where they aren't satisfied with a single package for all output types. For instance, when I tried a small gamut of output targets I ran into this problem:</p><p><img src="http://jameschambers.com/wp-content/uploads/2015/08/image4.png" alt="image" title="image"></p><p>The new .NET Platform (the base for Windows, web, mobile and x-plat) was not supported given the dependencies I have listed in my project, namely it is the IESI Collections that is the problem here. Ideally, you want to be able to support as many runtimes as possible, so you want to target the lowest common denominator. That is likely going to be &quot;dotnet&quot; going forward (which could in turn be used to build up applications for web, Windows or phone) but more realistically things like &quot;net46&quot;, which is just the 4.6 version of .NET, or &quot;dnx46&quot;, which is the new bits (think MVC Framework) running on top of .NET 4.6. In the cases where you don't have a package that matches the target you need, you have a couple of choices, listed in order of easiest to most difficult:</p><ul><li>Contact the package authors to see if there is a new version coming</li><li>If it's open source, contribute and get an output built for dotnet</li><li>Add runtime-specific dependencies to get the project building, then use compiler switches to implement different blocks of code based on the target framework</li><li>Switch off of that version of the package, or switch to an alternate package to get the same functionality and then update your code as required</li></ul><p>Sadly, that last one is likely the way we're going to need to go, especially if we want to target x-plat development. This is not an easy task, but getting to this point in the migration is and only takes a couple of hours. If you haven't done this sanity check in your project to identify packages that may cause issues during migrations, I would suggest that your assessment is not complete.</p><p>For the time being, we are concerned about supporting .NET 4.6 and DNX running on 4.6 for our project, so that is where I have left things. This is a reasonable compromise allowing continued development in web and Windows.</p><h2>Moving On</h2><p>The main tenets of our application are now alive and kicking in our Visual Studio 2015 solution with the new project system in place. In the next post in this series we'll have a look at getting the tests online and updating the build script to execute our tests.</p><p>If you'd like to follow along with the progression as we get this fully converted you can check out <span style="text-decoration: line-through;">the branch on GitHub</span>.</p><p>Happy coding! <img src="https://jcblogimages.blob.core.windows.net/img/2015/08/wlEmoticon-smile.png" alt="Smile"></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;To take advantage of multi-targeted outputs from our project – allowing our assemblies to be used from multiple frameworks across the organization – we want to upgrade our projects to use the new project system in Visual Studio 2015. Previously, we would have needed a base project and then a separate project for each framework target (PCL, 4.5, 3.5, 4.5.2, etc), but in today&#39;s solutions we can have a single project output all of the assets we wish to support.&lt;/p&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title type="html">Launching an ASP.NET 5 Application From Visual Studio 2015</title>
    <link href="https://westerndevs.com/_/launching-an-asp-net-5-application-from-visual-studio-2015/" rel="alternate" type="text/html"/>
    <id>https://westerndevs.com/_/launching-an-asp-net-5-application-from-visual-studio-2015/</id>
    <published>2015-07-31T16:21:46.000Z</published>
    <updated>2024-10-13T19:57:38.562Z</updated>
	<author>
	
	  
	  <name>James Chambers</name>
	  <email>james@jameschambers.com</email>
	
	  <uri>https://westerndevs.com</uri>
	</author>
    
    <content type="html"><![CDATA[<p>If you are trying to use any DNX (DotNet Execution) runtime other than dnx451 (i.e. dnx452, dnx46) you will run into the following error when running the application from Visual Studio 2015, when used with the initial release of the Beta 6 tooling:</p><a id="more"></a><blockquote><p><strong>The current runtime target framework is not compatible with 'YourWebApplication'.</strong></p><p>Current runtime Target Framework: 'DNX,Version=v4.5.1 (dnx451)'<br>Type: CLR<br>Architecture: x64<br>Version: 1.0.0-beta6-12256</p></blockquote><p>If you're instead running with a debugger attached, you won't hit a breakpoint, you'll only get a 500. It doesn't matter what framework runtimes you have installed on your machine. It doesn't matter what your global.json says or what dependencies or frameworks you take or specify in project.json.</p><p>This is because the default runtime for launching IIS Express from Visual Studio is indeed dnx451. You can get around this in one of two ways:</p><ol><li>Launch the website from the command line in your project directory using the command &quot;dnx . web&quot;. Web is a command that is exposed in your project.json and shares the needed info (config) to launch a project-specific instance of IIS.</li><li>In your project properties (right-click, properties from Solution Explorer), add the following environment variable in the Debug tab:<br>     DNX_IIS_RUNTIME_FRAMEWORK = dnx46</li></ol><p><img src="http://jameschambers.com/wp-content/uploads/2015/07/image25.png" alt="image" title="image"></p><p>A huge thanks goes out to <a href="https://twitter.com/anurse" target="_blank" rel="noopener">Andrew Nurse</a> for providing a resolution on <a href="http://stackoverflow.com/questions/31671851/vs-2015-setting-right-target-framework-for-asp-net-5-web-project/31687529#31687529" target="_blank" rel="noopener">this matter</a> and responding to <a href="https://github.com/aspnet/dnx/issues/2367" target="_blank" rel="noopener">my issue</a> on GitHub.</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;If you are trying to use any DNX (DotNet Execution) runtime other than dnx451 (i.e. dnx452, dnx46) you will run into the following error when running the application from Visual Studio 2015, when used with the initial release of the Beta 6 tooling:&lt;/p&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title type="html">ASP.NET Beta 6 Is in the Wild</title>
    <link href="https://westerndevs.com/_/asp-net-beta-6-is-in-the-wild/" rel="alternate" type="text/html"/>
    <id>https://westerndevs.com/_/asp-net-beta-6-is-in-the-wild/</id>
    <published>2015-07-29T16:17:59.000Z</published>
    <updated>2024-10-13T19:57:38.558Z</updated>
	<author>
	
	  
	  <name>James Chambers</name>
	  <email>james@jameschambers.com</email>
	
	  <uri>https://westerndevs.com</uri>
	</author>
    
    <content type="html"><![CDATA[<p>The Beta 6 release of ASP.NET 5 is now available. Run the following command to upgrade from a previous version:</p><pre><code>dnvm upgrade</code></pre><p>After that, a &quot;dnvm list&quot; command will give you the following:</p><a id="more"></a><p><img src="https://jcblogimages.blob.core.windows.net/img/2015/07/image22.png" alt="image" title="image"></p><p>You can also upgrade dnvm itself with the following command:</p><pre><code>dnvm update-self</code></pre><p>Which will get you up to the beta 7 version (build 10400) of DNVM.</p><p><img src="https://jcblogimages.blob.core.windows.net/img/2015/07/image_thumb6.png" alt="image" title="image"></p><p>You'll also need the updated VS 2015 tooling, which is available here (along with the DNVM update tools if you want them seperately): <span style="text-decoration: line-through;">Microsoft Visual Studio 2015 Beta 6 Tooling Download</span> (no longer active).</p><h2>Why This is Important</h2><p>As part of my progression in porting an MVC 5 app to MVC 6, one scenario that I needed support for was to have libraries targeting .NET 4.6 reference-able from a DNX project. MVC 6, up to this point, only supported 4.5.1, which meant that you'd have to roll back your targeting if you were on 4.5.2 or 4.6.</p><p>Of course, multi-targeting is a better option, but requires the time and capacity to either slave over the old code base and NuGet packaging nuances, or port to the new project format where you have much greater in-project support for targeting multiple frameworks.</p><h2>What You Get</h2><p>As previously detailed by <a href="https://twitter.com/DamianEdwards" target="_blank" rel="noopener">Damien Edwards</a>, there are bug fixes, features and improvements in the following areas: <a href="https://github.com/issues?utf8=%E2%9C%93&amp;q=user%3Aaspnet+is%3Aissue+label%3Aenhancement+milestone%3A1.0.0-beta6" target="_blank" rel="noopener">Runtime</a>, <a href="https://github.com/issues?utf8=%E2%9C%93&amp;q=user%3Aaspnet+is%3Aissue+label%3Aenhancement+milestone%3A6.0.0-beta6" target="_blank" rel="noopener">MVC</a>, <a href="https://github.com/issues?utf8=%E2%9C%93&amp;q=user%3Aaspnet+is%3Aissue+label%3Aenhancement+milestone%3A4.0.0-beta6" target="_blank" rel="noopener">Razor</a>, <a href="https://github.com/issues?utf8=%E2%9C%93&amp;q=user%3Aaspnet+is%3Aissue+label%3Aenhancement+milestone%3A3.0.0-beta6" target="_blank" rel="noopener">Identity</a>. In addition to supporting .NET 4.6 in DNX, they have also added localization and have been working on other things like distributed caching, which you can <a href="https://github.com/aspnet/Announcements/issues/43" target="_blank" rel="noopener">read about here</a>.</p><h2>What To Watch Out For</h2><p>This is still a beta, and there are many moving parts.</p><p>Be sure to check out the <a href="https://live.asp.net/" target="_blank" rel="noopener">community standup today</a> and head over to <a href="https://github.com/aspnet/" target="_blank" rel="noopener">GitHub</a> for the announcements on <a href="https://github.com/aspnet/Announcements/issues" target="_blank" rel="noopener">breaking changes</a>.</p><p>Happy coding! <img src="https://jcblogimages.blob.core.windows.net/img/2015/07/wlEmoticon-smile4.png" alt="Smile"></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;The Beta 6 release of ASP.NET 5 is now available. Run the following command to upgrade from a previous version:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;dnvm upgrade
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;After that, a &amp;quot;dnvm list&amp;quot; command will give you the following:&lt;/p&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title type="html">Upgrading Projects to .NET 4.6</title>
    <link href="https://westerndevs.com/_/upgrading-projects-to-net-4-6/" rel="alternate" type="text/html"/>
    <id>https://westerndevs.com/_/upgrading-projects-to-net-4-6/</id>
    <published>2015-07-29T15:59:39.000Z</published>
    <updated>2024-10-13T19:57:38.570Z</updated>
	<author>
	
	  
	  <name>James Chambers</name>
	  <email>james@jameschambers.com</email>
	
	  <uri>https://westerndevs.com</uri>
	</author>
    
    <content type="html"><![CDATA[<p>The updates in the .NET Framework provide many improvements, including support for new language features in c#, garbage collection, enhancements in cryptography support, feature toggles, new classes in the BCL and others. The RyuJIT compiler adds significant performance gains for 64bit applications, even those not originally targeting the 4.6, improves startup times and can reduce the memory footprint of your application.</p><a id="more"></a><div class="notice"><p><em>In this series we're working through the conversion of an MVC 5-based application and migrating it to MVC 6. You can track the entire series of posts from the <a href="http://jameschambers.com/2015/07/upgrading-a-real-world-mvc-5-application-to-mvc-6/" target="_blank" rel="noopener">intro page</a>.</em></p></div><p>While the explicit modification of your projects may not be required to gain some of the 4.6 benefits, there may be other organizational factors that lead you down that path. We'll work through the mechanics of the upgrade to 4.6 in this post.</p><p><h2><i class="fa fa-warning"></i> A Word of Caution</h2></p><p>UPDATE: July 28, 2015 There is a known issue with certain 64bit applications running on .NET 4.6, under certain circumstances, with certain parameter types and sizes. You can read more <a href="http://nickcraver.com/blog/2015/07/27/why-you-should-wait-on-dotnet-46/" target="_blank" rel="noopener">about the bug finding here</a> and the issue is being <a href="https://github.com/dotnet/coreclr/issues/1296" target="_blank" rel="noopener">tracked on GitHub</a>, followed by Microsoft's <a href="http://blogs.msdn.com/b/dotnet/archive/2015/07/28/ryujit-bug-advisory-in-the-net-framework-4-6.aspx" target="_blank" rel="noopener">response and recommendation</a>.</p><div class="notice"><p>For this reason <strong>I am not recommending an upgrade to 4.6</strong> unless you understand the implications and how to properly vet the scenarios described in your environment.</p></div><h2>Getting Your Projects Up-to-date</h2><p>Every project we create references a specific version of the .NET Framework. This has been true throughout the history of .NET, and though the way we will do it in the future will change with the new project system, the premise remains the same.</p><p>For now, you can simply open the properties tab for your project and change the target Framework.</p><p><img src="http://jameschambers.com/wp-content/uploads/2015/07/image18.png" alt="image" title="image"></p><p>You will be prompted to let you know that some changes may be required.</p><p><img src="http://jameschambers.com/wp-content/uploads/2015/07/image19.png" alt="image" title="image"></p><p>Note that in my case, I had 7 projects with varying types of references and dependencies, and no modifications were required to the code. Your mileage may vary, of course, but this is a simple change and one that you can test quickly. With proper source control in place, this is a zero-risk test that should take only a moment or two.</p><p>Now, if you were to try to build the Bootcamp project when you're only partway through the upgrade, you'd see something similar to the following:</p><p><img src="http://jameschambers.com/wp-content/uploads/2015/07/image20.png" alt="image" title="image"></p><p>With a message that reads:</p><blockquote><p>The primary reference &quot;x&quot; could not be resolved because it was built against the &quot;.NETFramework,Version=v4.6&quot; framework. The is a higher version than the currently targeted framework &quot;.NETFramework,Version=4.5.1&quot;.</p></blockquote><p>You may run into this in other scenarios, as well, especially if you you have references to packages or libraries that get out of sync in your upgrade process. <strong>A project that takes on dependencies must be at (or higher than) the target framework of the compiled dependencies</strong>. To remedy this, we simply need to complete the upgrade process on the rest of the projects.</p><p><img src="http://jameschambers.com/wp-content/uploads/2015/07/image21.png" alt="image" title="image"></p><p>This was pretty painless. <img src="http://jameschambers.com/wp-content/uploads/2015/07/wlEmoticon-smile5.png" alt="Smile"></p><h2>Reasons to Upgrade?</h2><p>Moving from 4.5.x to 4.6 is not a required step in our conversion to an MVC 6 project. In fact, MVC 6 indeed runs on a different framework altogether. To that end, any environment where you have 4.6 installed will &quot;pull up&quot; other assemblies because it is a drop-in replacement for pervious versions.</p><p>Perhaps your primary motivator to move to 4.6 is the perf bump in the runtime, or it might be the new language features (which only require a framework install, not a version bump in your target). But it also ensures we're compatible with other projects in our organization, particularly when we consider the default target for new projects in VS 2015 is against 4.6. If we want to leverage these from other projects in our organization, we want to make sure that we're not the lowest common denominator in the mix.</p><h2>The Next Step</h2><p>However, there are a couple of other points that we should note, namely that our compiler isn't tied to the installed framework or the runtime, it's just used to <em>target</em> a specific set of instructions that the runtime can digest. So, if our MVC 6 will be running on DNX46, or we have other .NET 4.6 projects we're all set (though, we'd have to use DNU wrap to consume our library at this point in DNX).</p><p>But what if we have different projects across our organization, or we have external teams using our libraries? The answer lies in multi-targeting, which is what we'll address in the next post in this series.</p><p>Until then, happy coding! <img src="http://jameschambers.com/wp-content/uploads/2015/07/wlEmoticon-smile5.png" alt="Smile"></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;The updates in the .NET Framework provide many improvements, including support for new language features in c#, garbage collection, enhancements in cryptography support, feature toggles, new classes in the BCL and others. The RyuJIT compiler adds significant performance gains for 64bit applications, even those not originally targeting the 4.6, improves startup times and can reduce the memory footprint of your application.&lt;/p&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title type="html">Getting Your Build Server Ready for VS 2015</title>
    <link href="https://westerndevs.com/_/getting-your-build-server-ready-for-vs-2015/" rel="alternate" type="text/html"/>
    <id>https://westerndevs.com/_/getting-your-build-server-ready-for-vs-2015/</id>
    <published>2015-07-24T18:22:30.000Z</published>
    <updated>2024-10-13T19:57:38.562Z</updated>
	<author>
	
	  
	  <name>James Chambers</name>
	  <email>james@jameschambers.com</email>
	
	  <uri>https://westerndevs.com</uri>
	</author>
    
    <content type="html"><![CDATA[<p>If you're modernizing your project, one of the things you'll surely want to do is to make sure that your build server is upgraded to support VS 2015. Regardless of what CI engine you're using, there will be at least a little bit of effort required to get your project building again.</p><a id="more"></a><blockquote><p>In this series we're working through the conversion of an MVC 5-based application and migrating it to MVC 6. You can track the entire series of posts from the <a href="http://jameschambers.com/2015/07/upgrading-a-real-world-mvc-5-application-to-mvc-6/" target="_blank" rel="noopener"><em>intro page</em></a>.</p></blockquote><p>For the purpose of this exercise, we're using TeamCity to run our builds based on a VSC checkin. We'll get TeamCity prepped to run our build and then update our repository so that we show our build status indicator on the readme home page.</p><h2>The TL;DR Details</h2><p>Here's the basics of what was required to get the builds back online:</p><ul><li>Backup and upgrade TeamCity</li><li>Allow the agents to upgrade, or upgrade them manually</li><li>Install .NET 4.6 and the VS 2015 tools</li><li>Ensure that build targets live on your build agents</li><li>Run your build</li></ul><h2>Upgrading the Server</h2><p>I engaged my teammate <a href="http://www.clear-measure.com/our-team/" target="_blank" rel="noopener">James Allen</a> here to help with some best practices, namely getting the server backed up. You can either back up the TeamCity data from the web interface or one of the other <a href="https://confluence.jetbrains.com/display/TCD9/TeamCity+Data+Backup" target="_blank" rel="noopener">recommended approaches</a>, or you could snapshot your server for a reset should one be required. During this process, it's a good idea to spin down your build agents so that you're not wrecking anyone's builds.</p><p>Next, we needed to move to version 9.1 of TeamCity, so we ran the <a href="https://confluence.jetbrains.com/display/TCD9/Upgrade" target="_blank" rel="noopener">upgrade process</a> via the web site. This is a painless task and takes only a fraction of the time it took to back up the data. Failing any troubles (we saw none), your build server should be back online in no time, and the build agents were notified (and complied!) to update themselves as well.</p><p><img width="240" height="191" title="image" align="right" style="margin: 0px 0px 0px 10px; border: 0px currentcolor; border-image: none; float: right; display: inline; background-image: none;" alt="image" src="http://jameschambers.com/wp-content/uploads/2015/07/image_thumb5.png" border="0" scale="0">Next, I downloaded and installed the .NET 4.6 installer and the VS 2015 tooling, which can be found on the <a href="https://www.visualstudio.com/downloads/download-visual-studio-vs" target="_blank" rel="noopener">VS 2015 download page</a>. You'll need to explore through the available downloads on the page, as you can see on this screenshot, to grab the relevant files.</p><p>These installs will need to be run on every build agent.</p><p>One thing to note was that my original attempt to get the build running failed because of missing build targets at an expected location. I ended up having to copy files from my local machine, where Visual Studio 2015 is installed, from the path: C:Program Files (x86)MSBuildMicrosoftVisualStudiov14.0 on the build server.</p><blockquote><p>I don't believe this is the best approach to getting the build targets on the build server. I will update this post if I find a better solution.</p></blockquote><h2>Verifying the Install</h2><p>You'll know the tools have been installed correctly if you return to the build configuration settings and add a new build step for msbuild (you don't have to save it). You'll see that you'll have the new options in place:</p><p><img src="http://jameschambers.com/wp-content/uploads/2015/07/image14.png" alt="image" title="image"></p><p>The build server should be good to go now! For us, we're not using an MSBuild build runner, our application is build with a PowerShell script via a batch file. This allows our build to be executed locally with only a small parameter change, and the CI process is entirely encapsulated in code (and under source control).</p><p>Provided your project is pointing at the repository, you'll have a good shot at running the build at this point. For our project, everything worked as expected.</p><p><img src="http://jameschambers.com/wp-content/uploads/2015/07/image15.png" alt="image" title="image"></p><h2>Showing Some Bling</h2><p>Now it's time to beef up our repo, at least a little. What I'm talking about is wearing our CI on our sleeve, letting everyone on the team (or other watchers of the repository) that our builds are healthy or, perhaps, needing some love; let's display the build status indicator on our readme, like this:</p><p><img src="http://jameschambers.com/wp-content/uploads/2015/07/image16.png" alt="image" title="image"></p><p>First, drill into the build configuration and locate the advanced options under &quot;General Settings&quot;. You need to enable the status widget.</p><p><img src="http://jameschambers.com/wp-content/uploads/2015/07/image17.png" alt="image" title="image"></p><p>Also, from this screen, take note of your Build Configuration ID. This is important because you'll need to include it in the server request to generate the badge.</p><p>Finally, include the following markdown, which is essentially a formatted link with an image inside of it:</p><pre><code>Current Build Status [![](http://YOUR_SERVER/app/rest/builds/buildType:(id:YOUR_BUILD_CONFIGURATION_ID)/statusIcon)](http://teamcity/viewType.html?buildTypeId=btN&amp;guest=1)</code></pre><p>Be sure to replace the obvious placeholder tokens with your own information.</p><h2>Next Steps</h2><p>With our build server updated and our builds back online, it's time to start shifting our targets. In the next post, we're going to update our projects and recover from any errors/challenges we may discover along the way.</p><p>Happy coding! <img src="http://jameschambers.com/wp-content/uploads/2015/07/wlEmoticon-smile3.png" alt="Smile"></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;If you&#39;re modernizing your project, one of the things you&#39;ll surely want to do is to make sure that your build server is upgraded to support VS 2015. Regardless of what CI engine you&#39;re using, there will be at least a little bit of effort required to get your project building again.&lt;/p&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title type="html">Upgrading a Real-World MVC 5 Application to MVC 6</title>
    <link href="https://westerndevs.com/_/upgrading-a-real-world-mvc-5-application-to-mvc-6/" rel="alternate" type="text/html"/>
    <id>https://westerndevs.com/_/upgrading-a-real-world-mvc-5-application-to-mvc-6/</id>
    <published>2015-07-23T20:08:42.000Z</published>
    <updated>2024-10-13T19:57:38.570Z</updated>
	<author>
	
	  
	  <name>James Chambers</name>
	  <email>james@jameschambers.com</email>
	
	  <uri>https://westerndevs.com</uri>
	</author>
    
    <content type="html"><![CDATA[<p>These are exciting times for web development on the Microsoft stack, but perhaps a little confusing as well. For many years the cycle of moving from one solution and project system to the next hasn't been overly complex. Sure, there have been breaking changes, I've felt those pains myself, but provided the framework you were using continued to live on, there was a reasonable migration path.</p><a id="more"></a><p>Moving to MVC 6 is going to be a big shift for a lot of development teams, but that doesn't mean it needs to be scary, complicated or introduce instability into your project.</p><p>It does, however, mean that you're going to need an attitude of learning, that you'll pick up some new tooling, you'll have to brush up on your JavaScript and work with some new concepts.</p><h2>Let's Make it Happen</h2><p>I'm super excited to now be part of the excellent crew at <a href="http://clear-measure.com/" target="_blank" rel="noopener">Clear Measure</a>, where this type of attitude seems to be fostered, encouraged and embodied by other members of the team and, more importantly, the management.</p><p>We're now undertaking the process of converting from MVC5 =&gt; MVC6 with our <a href="https://github.com/ClearMeasureLabs/ClearMeasureBootcamp" target="_blank" rel="noopener">Bootcamp workshop project</a> and I have the privilege of blogging my experience with it as I go. <img style="margin: 5px 0px 10px 10px; float: right; display: inline; background-image: none;" title="image" src="http://jameschambers.com/wp-content/uploads/2015/07/image_thumb2.png" alt="image" width="244" height="173" align="right" border="0" scale="0" />We're going to keep the project building and operable as we go, such that at an point it can be shipped to production or branched for feature development.  We'll be using GitFlow, feature branches, continuous integration and continuous deployment.  Our check-ins will be code that builds cleanly with passing tests.</p><p><strong>And,</strong> for those of you who come join in our our MVC Masters Bootcamp sessions, you'll also get to work on this code base with all the tools, exposure to pair programming, a dedicated product owner and 3 days of intense coding.</p><blockquote><a href="http://clear-measure.com/" onclick="_gaq.push(['_trackEvent', 'outbound-article', 'http://clear-measure.com/', '']);" target="_blank"><img style="margin: 14px 9px 7px 0px; border: 0px currentcolor; float: left; display: inline; background-image: none;" title="image" src="http://jameschambers.com/wp-content/uploads/2015/07/image8.png" alt="image" width="40" height="39" align="left" border="0" scale="0"></a><strong>Shameless plug</strong>: If you want to level up your team of developers, please reach out to <a href="mailto:gina@clear-measure.com??Subject=MVC%20Masters%20Bootcamp" target="_blank">Gina Hollis</a> at Clear Measure to plan an on- or off-site event. We promise to melt your minds.</blockquote><h2>How We're Getting There</h2><p><img style="margin: 5px 0px 10px 10px; float: right; display: inline; background-image: none;" title="image" src="http://jameschambers.com/wp-content/uploads/2015/07/image_thumb3.png" alt="image" width="244" height="188" align="right" border="0" scale="0" />Well, to start it off, we're beginning with our initial commit as the MVC 5 project <a href="https://twitter.com/jeffreypalermo" target="_blank" rel="noopener">Jeffrey Palermo's</a> been using in the Masters Bootcamp for some time.</p><p>The application is hosted on <a href="https://github.com/ClearMeasureLabs/ClearMeasureBootcamp" target="_blank" rel="noopener">GitHub</a> and you can <a href="https://github.com/ClearMeasureLabs/ClearMeasureBootcamp/issues" target="_blank" rel="noopener">see the issues</a> that we're identifying and working through. We're doing the whole thing as open source in hopes that other teams can learn from what we learn in the process.</p><p>And, as I knock items off the issue list I'll be posting about them here, covering the challenges, pitfalls and wins we encounter along the way. You can bookmark this post for updates in the project. Feel free to ask questions on the issues in the repository, or ping me on Twitter (<a href="https://twitter.com/CanadianJames/" target="_blank" rel="noopener">@CanadianJames</a>).</p><p>Stay tuned!</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;These are exciting times for web development on the Microsoft stack, but perhaps a little confusing as well. For many years the cycle of moving from one solution and project system to the next hasn&#39;t been overly complex. Sure, there have been breaking changes, I&#39;ve felt those pains myself, but provided the framework you were using continued to live on, there was a reasonable migration path.&lt;/p&gt;
    
    </summary>
    
    
  </entry>
  
</feed>
