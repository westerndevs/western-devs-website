<!DOCTYPE html>
<html lang="en" xml:lang="en">

  <head>
  
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>An Intro to Android Data Binding | Western Devs</title>
  <meta name="description" content="In May, 2015 at Google announced a data binding library for Android. It&#39;s long overdue – developers no longer have to come up with their own schemes for displaying or retrieving data from their views.">
<meta property="og:type" content="article">
<meta property="og:title" content="An Intro to Android Data Binding">
<meta property="og:url" content="https://westerndevs.com/_/an-intro-to-android-data-binding/index.html">
<meta property="og:site_name" content="Western Devs">
<meta property="og:description" content="In May, 2015 at Google announced a data binding library for Android. It&#39;s long overdue – developers no longer have to come up with their own schemes for displaying or retrieving data from their views.">
<meta property="article:published_time" content="2015-09-16T06:32:12.000Z">
<meta property="article:modified_time" content="2022-05-30T17:34:52.114Z">
<meta property="article:author" content="Western Devs">
<meta name="twitter:card" content="summary">
<meta name="twitter:creator" content="@westerndevs">

    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="title" content="WesternDevs">   
    <meta name="keywords" content="software development,software,asp.net,blog">
    <meta name="description" content="We're all west of somewhere">
    <meta name="copyright" content="WesternDevs">
    <meta name="revisit-after" content="15 days">
    <meta name="robots" content="all">
    <meta name="MSSmartTagsPreventParsing" content="true">
  
    <link rel="canonical" href="http://www.opgenorth.net/blog/2015/06/21/android-data-binding-intro/">
  
  
    <link rel="alternate" href="/feed.xml" title="Western Devs" type="application/atom+xml">
  
  
<link rel="stylesheet" href="/css/style.css">

      
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <script src="//code.jquery.com/jquery-1.11.3.min.js"></script>  
  <meta name="generator" content="Hexo 4.2.1"></head>

<body>

<!-- FIXED HEADER BECAUSE SCROLLING -->
<!--HEADER STARTS-->
<div class="WrapperHeader">
<div style="display:inline-block; text-align: center;">
<div class="Header">

  <div class="HeaderLogo">
    <a href="/"><img src="/images/header_logo_transparent.png" alt="WesternDevs" title="WesternDevs" border="0" style="width: 206px; height: 64px;" width="206" height="64"></a>
  </div>

  <div class="HeaderLinks">
      <a href="/posts" class="nav">POSTS</a>       
      <a href="/podcasts" class="nav">PODCASTS</a>       
      <a href="/whoweare" class="nav">ABOUT</a>  
      <a href="/whatwevedone" class="nav">WHAT WE'VE DONE</a>  
      <a href="/speaking" class="nav">SPEAKING</a>
      <div class="HeaderIcons">
        <a href="mailto:info@westerndevs.com"><img src="/images/icon_email.png" border="0" alt="Email" title="Email" height="26" width="26"></a>
        <a href="/feed.xml"><img src="/images/icon_subscribe.png" border="0" alt="Subscribe" title="Subscribe" height="26" width="27"></a>
        <a href="http://twitter.com/westerndevs" target="_blank"><img src="/images/icon_twitter.png" border="0" alt="Twitter" title="Twitter" height="26" width="27"></a>
        <a href="http://github.com/westerndevs" target="_blank"><img src="/images/icon_github.png" border="0" alt="GitHub" title="GitHub" height="26" width="27"></a>     
      </div>
  </div>
  
</div>
</div>
</div>
<!--HEADER ENDS-->    



<!--WRAPPER STARTS-->
<div class="Wrapper" style="">

<!--SUBHEAD STARTS-->
<div class="WrapperSubHeaderSubpage">
<center>
	<div class="SubHeader">
		<H1 class="title"><img class="icon" src="/images/icon_posts.png" alt="POST" title="POST" border="0"> POST</H1>
	</div>
</center>
</div>
<!--SUBHEAD ENDS-->

<!--PAGE CONTENT STARTS-->
<center>
<div class="WrapperContent">

<!--MAIN CONTENT STARTS-->
	<div class="SubpageBoxSubLrg">
		<div class="SubpageBoxSubLrgContent">
		    <div class='postTitle'>
  <div class="ListLrgDateBG">
    <div class="ListLrgDateMonth">SEP</div>
    <div class="ListLrgDateDay">16</div>
    <div class="ListLrgDateYear">2015</div>
  </div>
  <h2>An Intro to Android Data Binding</h2>
</div>

		    

<p class="TXTsm">ORIGINALLY POSTED TO: <a href="http://www.opgenorth.net/blog/2015/06/21/android-data-binding-intro/" target="_blank" rel="noopener" class='originalurl'>http://www.opgenorth.net/blog/2015/06/21/android-data-binding-intro/</a></p>



			<div id="mainPostContent">
	        <p>In May, 2015 at Google announced <a href="https://developer.android.com/tools/data-binding/guide.html" target="_blank" rel="noopener">a data binding library for Android</a>. It's long overdue – developers no longer have to come up with their own schemes for displaying or retrieving data from their views. With two-way data binding, it's possible to remove a lot of redundant boilerplate code from the activities and fragments that make up an application.</p>
<a id="more"></a>
<p><em>Just a warning - Android data binding is still a beta product, so as such things may or may not work when they should, as they should, and the documentation may or may not be accurate.</em></p>
<p>There were several steps/phases that I went through while I was learning this. Here's what I did:</p>
<ol>
<li><strong>Add data binding to Android Studio</strong> – This is a one time thing, a couple of lines in some Gradle files.</li>
<li><strong>Create a POJO for the binding</strong> – You don't necessarily want to bind to a domain object. Arguable it's a cleaner design to have another class with responsiblity of data binding (and maybe some validation too). Model-View-ViewModel is an excellent pattern in this regard.</li>
<li><strong>Update the layout file</strong> – We help the data binding library out by adding some meta-data/markup to our layout files.</li>
<li><strong>Update the activity to declare the data binding</strong> – This will tell the data binding library how to connect the views to the POJO.</li>
</ol>
<p>The <a href="https://github.com/topgenorth/drunken-bear" target="_blank" rel="noopener">source code for this sample</a> is up on Github.</p>
<h1>Adding Data Binding to Your Project</h1>
<p>First off, make sure you're running Android Studio 1.3 or higher. As long as you're keeping current with the Android Studio</p>
<p>Next I had to edit the project's <strong>build.gradle</strong> file, my  <code>dependencies</code> section looks like this:</p>
<pre><code>dependencies {
    classpath 'com.android.tools.build:gradle:1.3.1'
    // TODO: when the final verison of dataBinder is release, change this to use a version number.
    classpath 'com.android.databinding:dataBinder:1.+'
}
</code></pre>
<p>After that, I updated the <strong>build.gradle</strong> for the app module. The first two line in the file are:</p>
<pre><code>apply plugin: 'com.android.application'
apply plugin: 'com.android.databinding'
</code></pre>
<p>That's pretty much about it. Now that our project is aware of data binding, let's see about the code and UI changes I had to make.</p>
<h1>Using Data Binding</h1>
<p>From here, you might be best off reading <a href="https://developer.android.com/tools/data-binding/guide.html" target="_blank" rel="noopener">Google's docs on data binding</a>, just to get a feel for how things work. If you're familiar with data binding in XAML (say WPF or Xamarin.Forms), you might notice some simularities.</p>
<p>(<em>Allow me digress a bit and offer this piece of advice again: think twice about binding directly to your data model. This is a perfect opportunity to bring some Model-View-ViewModel goodness into your Android application. I'm not going to talk to much about MVVM though.</em>)</p>
<h2>Updating the Source Code</h2>
<p>To keep my UI as code free as possible, I abstracted much of the data binding logic into the following class (his isn't all the code, just the parts relevant for this example):</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PhonewordViewModel</span> <span class="keyword">extends</span> <span class="title">BaseObservable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">boolean</span> mIsTranslated = <span class="keyword">false</span>;</span><br><span class="line">    <span class="keyword">private</span> String mPhoneNumber = <span class="string">""</span>;</span><br><span class="line">    <span class="keyword">private</span> String mPhoneWord = <span class="string">""</span>;</span><br><span class="line">    <span class="keyword">private</span> String mCallButtonText = <span class="string">"Call"</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bindable</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getPhoneNumber</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> mPhoneNumber;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bindable</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getCallButtonText</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> mCallButtonText;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bindable</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">getIsTranslated</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> mIsTranslated;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bindable</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getPhoneWord</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> mPhoneWord;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setPhoneWord</span><span class="params">(String phoneWord)</span> </span>&#123;</span><br><span class="line">        mPhoneWord = phoneWord;</span><br><span class="line">        onTranslate(<span class="keyword">null</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onTranslate</span><span class="params">(View v)</span> </span>&#123;</span><br><span class="line">        mPhoneNumber = toNumber(mPhoneWord);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (TextUtils.isEmpty(mPhoneNumber)) &#123;</span><br><span class="line">            mCallButtonText = <span class="string">"Call"</span>;</span><br><span class="line">            mIsTranslated = <span class="keyword">false</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            mIsTranslated = <span class="keyword">true</span>;</span><br><span class="line">            mCallButtonText = <span class="string">"Call "</span> + mPhoneNumber + <span class="string">"?"</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        notifyPropertyChanged(net.opgenorth.phoneword.BR.phoneNumber);</span><br><span class="line">        notifyPropertyChanged(net.opgenorth.phoneword.BR.isTranslated);</span><br><span class="line">        notifyPropertyChanged(net.opgenorth.phoneword.BR.callButtonText);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Here I've encapsulated logic into a view class that subclasses <code>BaseObservable</code>. Subclassing isn't mandatory – a naked POJO will work too. However, by making a custom view <code>BaseObservable</code> provides the infrastructure for setting up the data binding; and this custom view class can notify registered listeners as values change. As well, POJO's should be kept as dumb as possible without any intricate knowledge of views. By sticking the data binding logic in a view class like this I, honour the whole &quot;separation of concerns&quot; concept.</p>
<p>Notice that the getters are adorned with the <code>@Bindable</code> annotation - this identifies how the listeners should retrieve values from the properties.</p>
<p>It's the responsibility of the bound class to notify clients when a property has changed. You can see this happening with the use of <code>notifyPropertyChanged</code>. This causes a signal to be raised to listeners; this is how they find out the name has changed.</p>
<p>The <code>BR</code> class is generated by the data binding library. It is to data binding what the <code>R</code> class is to layout files. Each POJO field or method adorned with <code>@Bindable</code> will have a constant declared in the <code>BR</code> class at compile time corresponding to the name. So, <code>getPhoneNumber()</code> becomes <code>BR.phoneNumber</code>.</p>
<p>With the code out of the way, it's time to update the layout.</p>
<h2>Update the XML Layout</h2>
<p>There were a couple of changes that I needed to make to my existing layout for things to work:</p>
<ol>
<li>Declare some variables in my layout.</li>
<li>Identify properties on the various widgets that will be bound to the variable declared above.</li>
<li>Establish the data binding in the Activity.</li>
</ol>
<p>Android's data binding requires that <code>&lt;layout&gt;</code> be the root element of the layout. My old layout started with a <code>&lt;LinearLayout&gt;</code>. It's also necessary to add a <code>&lt;data/&gt;</code> section that will declare variables and the classes that will be bound to.</p>
<h3>Declare A Variable</h3>
<p>We need to declare a variable that the data binding framework can... bind too. I had to add a <code>&lt;data&gt;</code> element with a child <code>&lt;variable&gt;</code> element that names the variable and identifies the type Android should use for the binding:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">layout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag"><span class="attr">xmlns:app</span>=<span class="string">"http://schemas.android.com/apk/res-auto"</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">data</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">variable</span></span></span><br><span class="line"><span class="tag">			<span class="attr">name</span>=<span class="string">"phonewordVM"</span></span></span><br><span class="line"><span class="tag">			<span class="attr">type</span>=<span class="string">"net.opgenorth.phoneword.PhonewordViewModel"</span> /&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">data</span>&gt;</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">&lt;!-- my old layout is here, but omitted for clarity --&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">layout</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>This declares a variable <code>phonewordVM</code> that I can use inside my layout file.</p>
<p>Notice that the <code>xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;</code> will automatically drag local namespaces into your XML. This helps you out a bit because you don't have to explicitly declare all the namespaces in layout file.</p>
<h3>Declare the Bindings in the Layout</h3>
<p>Next, I need to set up the binding. In this example, all I want to do is to bind <code>setPhoneWord()</code>/<code>getPhoneWord()</code> in my custom view class to an <code>EditText</code>. This little XML snippet shows the binding in action:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">EditText</span></span></span><br><span class="line"><span class="tag">	<span class="attr">android:id</span>=<span class="string">"@+id/phoneword_text"</span></span></span><br><span class="line"><span class="tag">	<span class="attr">android:layout_width</span>=<span class="string">"fill_parent"</span></span></span><br><span class="line"><span class="tag">	<span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">	<span class="attr">android:layout_marginLeft</span>=<span class="string">"10dp"</span></span></span><br><span class="line"><span class="tag">	<span class="attr">android:layout_marginRight</span>=<span class="string">"10dp"</span></span></span><br><span class="line"><span class="tag">	<span class="attr">android:hint</span>=<span class="string">"@string/phoneword_label_text"</span></span></span><br><span class="line"><span class="tag">	<span class="attr">android:text</span>=<span class="string">"@&#123;phonewordVM.phoneWord&#125;"</span></span></span><br><span class="line"><span class="tag">	<span class="attr">tools:ignore</span>=<span class="string">"TextFields"</span> /&gt;</span></span><br></pre></td></tr></table></figure>
<p>Notice the syntax to declare the binding: <code>@{phonewordVM.phoneWord}</code> – this is how I setup the binding in the layout file. With this in place, the last thing to do is to setup the data binding in the activity.</p>
<h1>Establish the Data Binding</h1>
<p>Finally, setting up the data binding. This is a very minimal amount of code. We no longer have to first get a reference to a view, access properties on the view, and then manually transfer the value of that view to some domain object or variable in our application. Android Data Binding takes are of all that for me.</p>
<p>Below is a snippet from the fragment:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivityFragment</span> <span class="keyword">extends</span> <span class="title">Fragment</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> PhonewordViewModel mPhonewordViewModel;</span><br><span class="line">    <span class="keyword">private</span> FragmentMainBinding mBinding;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MainActivityFragment</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> View <span class="title">onCreateView</span><span class="params">(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        mPhonewordViewModel = <span class="keyword">new</span> PhonewordViewModel();</span><br><span class="line"></span><br><span class="line">        mBinding = DataBindingUtil.inflate(inflater, R.layout.fragment_main, container, <span class="keyword">false</span>);</span><br><span class="line">        mBinding.setPhonewordVM(mPhonewordViewModel);</span><br><span class="line">        View v = mBinding.getRoot();</span><br><span class="line"></span><br><span class="line">        mBinding.callButton.setOnClickListener(</span><br><span class="line">                <span class="keyword">new</span> View.OnClickListener() &#123;</span><br><span class="line">                    <span class="meta">@Override</span></span><br><span class="line">                    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View v)</span> </span>&#123;</span><br><span class="line">                        <span class="keyword">final</span> Intent callIntent = <span class="keyword">new</span> Intent(Intent.ACTION_CALL);</span><br><span class="line">                        AlertDialog.Builder alertDialogBuilder = <span class="keyword">new</span> AlertDialog.Builder(getActivity());</span><br><span class="line">                        alertDialogBuilder</span><br><span class="line">                                .setMessage(mBinding.callButton.getText())</span><br><span class="line">                                .setNeutralButton(R.string.call_button_text, <span class="keyword">new</span> DialogInterface.OnClickListener() &#123;</span><br><span class="line">                                    <span class="meta">@Override</span></span><br><span class="line">                                    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(DialogInterface dialog, <span class="keyword">int</span> which)</span> </span>&#123;</span><br><span class="line">                                        callIntent.setData(Uri.parse(<span class="string">"tel:"</span> + mPhonewordViewModel.getPhoneNumber()));</span><br><span class="line">                                        PhonewordUtils.savePhoneword(getActivity(), mPhonewordViewModel.getPhoneWord());</span><br><span class="line">                                        startActivity(callIntent);</span><br><span class="line">                                    &#125;</span><br><span class="line">                                &#125;)</span><br><span class="line">                                .setNegativeButton(R.string.cancel_text, <span class="keyword">new</span> DialogInterface.OnClickListener() &#123;</span><br><span class="line">                                    <span class="meta">@Override</span></span><br><span class="line">                                    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(DialogInterface dialog, <span class="keyword">int</span> which)</span> </span>&#123;</span><br><span class="line">                                        <span class="comment">// Nothing to do here.</span></span><br><span class="line">                                    &#125;</span><br><span class="line">                                &#125;)</span><br><span class="line">                                .show();</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">        );</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        mBinding.translateButton.setOnClickListener(<span class="keyword">new</span> View.OnClickListener() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View v)</span> </span>&#123;</span><br><span class="line">                mPhonewordViewModel.setPhoneWord(mBinding.phonewordText.getText().toString());</span><br><span class="line">                mPhonewordViewModel.translatePhoneWord();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> v;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>There are a couple of key things to notice here. First, observe that the fragment inflates a view called <code>fragment_main.xml</code>. The data binding library generates the code of a class called <code>FragmentMainBinding</code>. The name of the binding class is derived from the name of the layout file, with the work <code>Binding</code> appended to it.</p>
<p>Once the binding is instantiated, I tell it what object to bind to. The data binding library created a setter called <code>setPhonewordVM</code> – this is because we declared the variable <code>phonewordVM</code> in our layout file above.</p>
<p>Another interesting thing is that the code for the fragment does not use <code>findViewById</code> or hold a reference to any of the views layout. That is because the <code>FragmentMainBinding</code> has those references. So, for example, if I want to get the value of an <code>EditText</code> with the id <code>+@id/phonewordText</code>, then <code>mBinding.phonewordText.getText()</code> will do the trick.</p>
<p>I set the <code>OnClickListener</code> for the buttons in a very traditional way. In theory, the data binding library should allow to bind event listeners to methods on a view model. However, I have't been able to get that to work yet. Hopefully I'll have more luck next version of the data binding library (and/or an update to the docs for the data binding library)</p>
<h1>Sie Sind Fertig</h1>
<p>With all this, data binding has been accomplished. It may seem like a lot of code, and perhaps it is for such a trivial example. Where the true power of this comes into play is when you want to write tests for your code. Two way data binding lays the framework for the Model-View-View Model pattern, which in turn helps you create a loosely coupled app that is easier to test.</p>

	        </div>

            
            <section id="comments">
            <div id="disqus_thread">
                <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript" target="_blank" rel="noopener">comments powered by Disqus.</a></noscript>
            </div>
            </section>
            
		</div>
	</div>
<!--MAIN CONTENT ENDS-->

<!--SIDEBAR CONTENT STARTS-->
	<div class="SubpageBoxSubSm">
		<div class="SubpageBoxSubSmContent">
			
			

			<div class="ProfileImg">
				
				<a href="/bios/tom_opgenorth">
				
					<img src='https://www.gravatar.com/avatar/955323838b1c111c5e9b1936dc44d9fd?s=200' />
				
				</a>
				
			</div>

			<BR clear="all">

			<h2><a href="/bios/tom_opgenorth">Tom Opgenorth</a></h2>
			
			<a href="mailto:tom@opgenorth.net"><img class="ProfileIcon" src="/images/icon_email.png" border="0" alt="Email" title="Email"> Email</a><BR>
			
			
			<a href="http://www.opgenorth.net" target="_blank"><img class="ProfileIcon" src="/images/icon_web.png" border="0" alt="Web" title="Web"> Web</a><BR>
			
			
			<a href="http://twitter.com/topgenorth" target="_blank"><img class="ProfileIcon" src="/images/icon_twitter.png" border="0" alt="Twitter" title="Twitter"> Twitter</a><BR>
			
			
			<a href="https://github.com/topgenorth" target="_blank"><img class="ProfileIcon" src="/images/icon_github.png" border="0" alt="GitHub" title="GitHub"> GitHub</a><br>
			
			
			<a href="https://www.linkedin.com/in/tom-opgenorth" target="_blank"><img class="ProfileIcon" src="/images/icon_linkedin.png" border="0" alt="LinkedIN" title="LinkedIN"> LinkedIn</a><br>
			
			
 			<a href="/feeds/tom_opgenorth.xml"><img class="ProfileIcon" src="/images/icon_subscribe.png" /> RSS</a>
			

			<hr />
			<h4>Looking for someone else?</h4>
			<p>You can find the rest of the Western Devs Crew <a href="/whoweare">here</a>.</p>
		</div>
	</div>
<!--SIDEBAR CONTENT ENDS-->


</div>
</center>
<!--PAGE CONTENT ENDS-->


<!--FOOTER STARTS-->
<center>
  <div class="FooterBarTxt">&copy; 2015 Western Devs. All Rights Reserved. Design by <a href="http://www.karenchudobiak.ca" target="_blank">Karen Chudobiak, Graphic Designer</a></div>
</center>
<!--FOOTER ENDS-->

<!-- NAV FOOTER STARTS -->
<div class="NavFooter">
  <a href="/posts" alt="Posts"><i class="fa fa-newspaper-o fa-2x"></i><span>Posts</span></a>
  <a href="/podcasts" alt="Podcasts"><i class="fa fa-volume-up fa-2x"></i><span>Podcasts</span></a>
  <a href="/whoweare" alt="About"><i class="fa fa-star fa-2x"></i><span>About</span></a>
  <a href="/whatwevedone" alt="What We've Done"><i class="fa fa-trophy fa-2x"></i><span>Work</span></a>
  <a href="/speaking" alt="Speaking"><i class="fa fa-comment-o fa-2x fa-flip-horizontal"></i><span>Speaking</span></a>
</div>
<!-- NAV FOOTER ENDS -->




</div>
<!--WRAPPER ENDS-->


<script>
  var disqus_shortname = 'westerndevs';
  
  var disqus_url = 'https://westerndevs.com/_/an-intro-to-android-data-binding/'.replace(".com//", ".com/");
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
  
function shuffle(array) {
  var currentIndex = array.length, temporaryValue, randomIndex;

  // While there remain elements to shuffle...
  while (0 !== currentIndex) {

    // Pick a remaining element...
    randomIndex = Math.floor(Math.random() * currentIndex);
    currentIndex -= 1;

    // And swap it with the current element.
    temporaryValue = array[currentIndex];
    array[currentIndex] = array[randomIndex];
    array[randomIndex] = temporaryValue;
  }

  return array;
}

</script>


</body>

  
<!-- Google Analytics -->
<script type="text/javascript">
if (document.location.hostname.search("westerndevs.com") !== -1 || document.location.hostname.search("www.westerndevs.com") !== -1) {
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-37617956-2', 'auto');

ga('set', 'contentGroup1', 'tom_opgenorth');

ga('send', 'pageview');
}
</script>
<!-- End Google Analytics -->



</html>
