<!DOCTYPE html>
<html lang="en" xml:lang="en">

  <head>
  
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>BDD vs TDD | Western Devs</title>
  <meta name="description" content="Testing is a very important part of software development, but should we do black box testing or test every line of code? How can we find balance between writing the right thing (BDD) and writing thing">
<meta property="og:type" content="article">
<meta property="og:title" content="BDD vs TDD">
<meta property="og:url" content="https://westerndevs.com/_/bdd-vs-tdd/index.html">
<meta property="og:site_name" content="Western Devs">
<meta property="og:description" content="Testing is a very important part of software development, but should we do black box testing or test every line of code? How can we find balance between writing the right thing (BDD) and writing thing">
<meta property="og:image" content="http://orthocoders.com/images/bdd_cycle.jpg">
<meta property="article:published_time" content="2015-08-11T11:09:40.000Z">
<meta property="article:modified_time" content="2020-12-02T23:16:38.518Z">
<meta property="article:author" content="Western Devs">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://orthocoders.com/images/bdd_cycle.jpg">
<meta name="twitter:creator" content="@westerndevs">

    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="title" content="WesternDevs">   
    <meta name="keywords" content="software development,software,asp.net,blog">
    <meta name="description" content="We're all west of somewhere">
    <meta name="copyright" content="WesternDevs">
    <meta name="revisit-after" content="15 days">
    <meta name="robots" content="all">
    <meta name="MSSmartTagsPreventParsing" content="true">
  
    <link rel="alternate" href="/feed.xml" title="Western Devs" type="application/atom+xml">
  
  
<link rel="stylesheet" href="/css/style.css">

      
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <script src="//code.jquery.com/jquery-1.11.3.min.js"></script>  
  <meta name="generator" content="Hexo 4.2.0"></head>

<body>

<!-- FIXED HEADER BECAUSE SCROLLING -->
<!--HEADER STARTS-->
<div class="WrapperHeader">
<div style="display:inline-block; text-align: center;">
<div class="Header">

  <div class="HeaderLogo">
    <a href="/"><img src="/images/header_logo_transparent.png" alt="WesternDevs" title="WesternDevs" border="0" style="width: 206px; height: 64px;" width="206" height="64"></a>
  </div>

  <div class="HeaderLinks">
      <a href="/posts" class="nav">POSTS</a>       
      <a href="/podcasts" class="nav">PODCASTS</a>       
      <a href="/whoweare" class="nav">ABOUT</a>  
      <a href="/whatwevedone" class="nav">WHAT WE'VE DONE</a>  
      <a href="/speaking" class="nav">SPEAKING</a>
      <div class="HeaderIcons">
        <a href="mailto:info@westerndevs.com"><img src="/images/icon_email.png" border="0" alt="Email" title="Email" height="26" width="26"></a>
        <a href="/feed.xml"><img src="/images/icon_subscribe.png" border="0" alt="Subscribe" title="Subscribe" height="26" width="27"></a>
        <a href="http://twitter.com/westerndevs" target="_blank"><img src="/images/icon_twitter.png" border="0" alt="Twitter" title="Twitter" height="26" width="27"></a>
        <a href="http://github.com/westerndevs" target="_blank"><img src="/images/icon_github.png" border="0" alt="GitHub" title="GitHub" height="26" width="27"></a>     
      </div>
  </div>
  
</div>
</div>
</div>
<!--HEADER ENDS-->    



<!--WRAPPER STARTS-->
<div class="Wrapper" style="">

<!--SUBHEAD STARTS-->
<div class="WrapperSubHeaderSubpage">
<center>
	<div class="SubHeader">
		<H1 class="title"><img class="icon" src="/images/icon_posts.png" alt="POST" title="POST" border="0"> POST</H1>
	</div>
</center>
</div>
<!--SUBHEAD ENDS-->

<!--PAGE CONTENT STARTS-->
<center>
<div class="WrapperContent">

<!--MAIN CONTENT STARTS-->
	<div class="SubpageBoxSubLrg">
		<div class="SubpageBoxSubLrgContent">
		    <div class='postTitle'>
  <div class="ListLrgDateBG">
    <div class="ListLrgDateMonth">AUG</div>
    <div class="ListLrgDateDay">11</div>
    <div class="ListLrgDateYear">2015</div>
  </div>
  <h2>BDD vs TDD</h2>
</div>

		    

<p class="TXTsm">ORIGINALLY POSTED TO: <a href="http://orthocoders.com/blog/2015/07/12/bdd-vs-tdd/" target="_blank" rel="noopener" class='originalurl'>http://orthocoders.com/blog/2015/07/12/bdd-vs-tdd/</a></p>



			<div id="mainPostContent">
	        <p>Testing is a very important part of software development, but should we do black box testing or test every line of code?</p>
<p>How can we find balance between writing the right thing (BDD) and writing things right (TDD)?</p>
<a id="more"></a>
<h2>A perfect world</h2>
<p><em>Test Driven Development</em> (TDD) makes you think. It’s not only about the <em>test first approach</em> but also about following some <a href="http://butunclebob.com/ArticleS.UncleBob.TheThreeRulesOfTdd" target="_blank" rel="noopener">rules</a>.</p>
<p>TDD, however, is not enough to ensure that you are building the features that address the client’s expectations.</p>
<p><em>Behaviour Driven Development</em> (BDD) makes you think about the whole feature. Owners/champions participation helps you write the acceptance criteria and drive the implementation until the feature is implemented.</p>
<p>When you combine <em>BDD</em> and <em>TDD</em> you get the best of both worlds: you are able to match your clients’ expectations with high quality code and write the minimum amount of code possible.</p>
<p><img src="http://orthocoders.com/images/bdd_cycle.jpg" alt=""></p>
<p>Clearly both BDD and TDD are useful, however, is not always easy to implement both.</p>
<p>Ideally, to find balance you need to make sure you are well versed in both BDD and TDD, so you can be objective and, in the words of a great wizard, choose <a href="http://www.goodreads.com/quotes/701025-dark-times-lie-ahead-of-us-and-there-will-be" target="_blank" rel="noopener">between what is easy and what is right</a>.
That means we need to overcome two major drawbacks (to start): the <strong>learning curve</strong> and <strong>poor tooling</strong>.</p>
<h3>Learning curve</h3>
<p>As with any new methodology both TDD and BDD share a big drawback: <em>the learning curve</em>. Not only you need to learn how to implement each of them but also how to combine them.</p>
<p>This part is <strong>crucial</strong> to find balance between these methodologies. If your team doesn't feel comfortable doing either and see it as a <em>drag</em> they will resist using them or will implement only the bit they can do quickly and find an excuse not to use the other methodology.</p>
<p>Online you can find multiple examples of how to use both BDD and TDD, but they are often simplified and don't deal with more complex and frequent problems such as populating databases, generating testing data, making sure the acceptance cases run on multiple browsers, brittle tests, etc.</p>
<p>Don't get discouraged because you don't get results as quickly as you thought you would. Implementing BDD and TDD is going to take time, but it is very, very, very important (can't stress it enough) to make sure that writing tests is as natural for your team as <em>using the turn signal when you drive</em>. You just do it, don't think if it is worth it or not, it is automatic.</p>
<p>Many of these problems in your path, find you will… mitigate them you shall...</p>
<p>What’s the secret?  Training, practice, exercise and...then more practice.  There are great <a href="https://pragprog.com/book/hwcuc/the-cucumber-book" target="_blank" rel="noopener">books</a> to help you follow the process and <em>tooling</em> is essential.</p>
<h3>The right tool for the job</h3>
<p>In my experience, one of the main reasons developers get discouraged to write tests is <em>poor tooling</em>.</p>
<p>I think we are past finding testing frameworks and runners, still we have areas that are not always covered.</p>
<h4>Testing hooks &amp; metadata</h4>
<p>Most frameworks you may choose to work with will have some kind of <em>hooks</em>. Before tests, after tests, before all tests, etc.</p>
<p>Being able to <em>tag</em> tests and identify which ones are using the database, is another great feature to have.</p>
<p><a href="http://rspec.info/" target="_blank" rel="noopener">RSpec</a> is a great tool to take a peek at what kind of features could be useful for your current need. Probably there are similar libraries with the language you work with that implement the same or similar ideas.</p>
<p>And if not, why not collaborate with the community and build some?</p>
<h4>Fake domain data</h4>
<p>It is very common to need dummy data to support your scenarios. They can be useful for acceptance testing and for unit testing as well.</p>
<p>Having an easy way to generate fake data is really important. It will simplify how you write your tests and also give you the feeling that you are talking in domain terms, making much easier to understand what the test is about and implement the code.</p>
<p>Libraries like <a href="https://github.com/thoughtbot/factory_girl" target="_blank" rel="noopener">Factory Girl</a>,  <a href="https://fscheck.github.io/FsCheck/" target="_blank" rel="noopener">FsCheck</a>, <a href="https://github.com/AutoFixture" target="_blank" rel="noopener">AutoFixture</a>, <a href="https://github.com/MisterJames/GenFu" target="_blank" rel="noopener">GenFu</a> are great examples to know what to look for.</p>
<p>Not only you can generate good customers, bad customers, etc., but you can also generate multiple cases to test and, even further, why not look into some automatic generation.</p>
<h4>Databases</h4>
<p>Working with databases should be simple and straightforward: loading data before the tests, cleaning after, restoring the schema (if you have one) to a certain point, and populating.</p>
<p>Combining database manipulation with hooks and data generation will give you lots of power to set up scenarios in an easy, painless way.</p>
<h2>The importance of <em>NOT</em> being <em>brittle</em></h2>
<p>Let’s imagine we have mastered the <em>tools</em> and <em>the learning curve</em>. Now we have a new foe that threatens our Ninja skills and may bring our confidence to the floor: <strong>Brittle tests</strong>.</p>
<p>Tests have to be maintained and kept running <em>green</em> all the time, otherwise defeats the purpose.</p>
<p>You want your tests to be (somehow) <em>resilient</em> to changes in the code. This is a more advanced problem and here are a few tips to check before we can talk about balance.</p>
<h3>Isolation</h3>
<p>Avoid assuming a particular state that you don't control. Tests may run now but may not run in the future.</p>
<p>Any state needed to make the test pass has to be set up before the test runs and torn down after the test finishes running.</p>
<h3>Implementation coupling</h3>
<p>Tests should be about <em>inputs</em> and <em>outputs</em>, not about how they are implemented. Testing a method that queries the database by mocking the way the query is implemented is <strong>dangerous</strong>.  Similarly, testing with a very small set of data may lead you to the wrong conclusion.</p>
<p>You will be better off focusing on <a href="http://fsharpforfunandprofit.com/posts/property-based-testing" target="_blank" rel="noopener"><em>Properties Testing</em></a>. Libraries like <a href="https://fscheck.github.io/FsCheck/" target="_blank" rel="noopener">FsCheck</a> and <a href="https://github.com/abargnesi/rantly" target="_blank" rel="noopener">Rantly</a> can help you enforce pre-conditions and post-conditions and inspire you to look for other ways to make your testing robust.</p>
<h3>Mocking the mock</h3>
<p>Tests should work for you, not the other way around. If you find yourself creating more code in order to make your current code <em>testable</em> that deserves some attention.</p>
<p>Whenever you postpone testing complexity and replace it with a mock remember that the same complexity will have to be tested later.</p>
<p>Creating interfaces to improve reusability is a great idea, however, make sure you need it.
For example, abstracting the <a href="/repository-nightmares/">repository</a> pattern may not be always a good idea.</p>
<h3>Tools galore</h3>
<p>Though there's a plethora of tools to choose from, they will not always come in the exact shape and color you need them.</p>
<p>Don't get discouraged! Learn from it and build your own.</p>
<p>For example, writing domain specific languages to help you test will ease the pain of repeating common scenarios again and again. The investment will pay off.</p>
<h2>Finding balance</h2>
<p>Now our team has overcome the hardships of testing and is quite confident implementing both <em>TDD</em> and <em>BDD</em>. They can do them with their eyes closed while dancing the Macarena.</p>
<p>So what's the right balance? For me it is <strong>confidence</strong>.</p>
<pre><code>Do I need to write tests for every domain model, every single scenario, every api call?
</code></pre>
<p>Well...it is up to you.</p>
<p>I lean on the <strong>acceptance</strong> side often to ensure everything works as expected.</p>
<p>If you have a senior team then perhaps you can relax a bit more and choose which unit tests should be implemented to find a balance between BDD and TDD that you feel comfortable with.</p>
<p>If you don't see crystal clear that writing one test will imply that the other part is working, then don't skip anything.</p>
<p>Even for acceptance test if you find features that are really similar to others and strongly believe that implementing test scenarios won’t be necessary because your unit/integration test already covers that, go ahead and skip them.</p>
<p>It is a fine line, but the key is <strong>confidence</strong>.</p>

	        </div>

            
            <section id="comments">
            <div id="disqus_thread">
                <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript" target="_blank" rel="noopener">comments powered by Disqus.</a></noscript>
            </div>
            </section>
            
		</div>
	</div>
<!--MAIN CONTENT ENDS-->

<!--SIDEBAR CONTENT STARTS-->
	<div class="SubpageBoxSubSm">
		<div class="SubpageBoxSubSmContent">
			
			

			<div class="ProfileImg">
				
				<a href="/bios/amir_barylko">
				
					<img src='https://www.gravatar.com/avatar/fadb1de2c18ab0fc42ebc0988327c90f?s=200' />
				
				</a>
				
			</div>

			<BR clear="all">

			<h2><a href="/bios/amir_barylko">Amir Barylko</a></h2>
			
			<a href="mailto:amir@barylko.com"><img class="ProfileIcon" src="/images/icon_email.png" border="0" alt="Email" title="Email"> Email</a><BR>
			
			
			<a href="http://www.orthocoders.com/" target="_blank"><img class="ProfileIcon" src="/images/icon_web.png" border="0" alt="Web" title="Web"> Web</a><BR>
			
			
			<a href="http://twitter.com/abarylko" target="_blank"><img class="ProfileIcon" src="/images/icon_twitter.png" border="0" alt="Twitter" title="Twitter"> Twitter</a><BR>
			
			
			<a href="https://github.com/amirci" target="_blank"><img class="ProfileIcon" src="/images/icon_github.png" border="0" alt="GitHub" title="GitHub"> GitHub</a><br>
			
			
			<a href="https://www.linkedin.com/in/amirbarylko" target="_blank"><img class="ProfileIcon" src="/images/icon_linkedin.png" border="0" alt="LinkedIN" title="LinkedIN"> LinkedIn</a><br>
			
			
 			<a href="/feeds/amir_barylko.xml"><img class="ProfileIcon" src="/images/icon_subscribe.png" /> RSS</a>
			

			<hr />
			<h4>Looking for someone else?</h4>
			<p>You can find the rest of the Western Devs Crew <a href="/whoweare">here</a>.</p>
		</div>
	</div>
<!--SIDEBAR CONTENT ENDS-->


</div>
</center>
<!--PAGE CONTENT ENDS-->


<!--FOOTER STARTS-->
<center>
  <div class="FooterBarTxt">&copy; 2015 Western Devs. All Rights Reserved. Design by <a href="http://www.karenchudobiak.ca" target="_blank">Karen Chudobiak, Graphic Designer</a></div>
</center>
<!--FOOTER ENDS-->

<!-- NAV FOOTER STARTS -->
<div class="NavFooter">
  <a href="/posts" alt="Posts"><i class="fa fa-newspaper-o fa-2x"></i><span>Posts</span></a>
  <a href="/podcasts" alt="Podcasts"><i class="fa fa-volume-up fa-2x"></i><span>Podcasts</span></a>
  <a href="/whoweare" alt="About"><i class="fa fa-star fa-2x"></i><span>About</span></a>
  <a href="/whatwevedone" alt="What We've Done"><i class="fa fa-trophy fa-2x"></i><span>Work</span></a>
  <a href="/speaking" alt="Speaking"><i class="fa fa-comment-o fa-2x fa-flip-horizontal"></i><span>Speaking</span></a>
</div>
<!-- NAV FOOTER ENDS -->




</div>
<!--WRAPPER ENDS-->


<script>
  var disqus_shortname = 'westerndevs';
  
  var disqus_url = 'https://westerndevs.com/_/bdd-vs-tdd/'.replace(".com//", ".com/");
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
  
function shuffle(array) {
  var currentIndex = array.length, temporaryValue, randomIndex;

  // While there remain elements to shuffle...
  while (0 !== currentIndex) {

    // Pick a remaining element...
    randomIndex = Math.floor(Math.random() * currentIndex);
    currentIndex -= 1;

    // And swap it with the current element.
    temporaryValue = array[currentIndex];
    array[currentIndex] = array[randomIndex];
    array[randomIndex] = temporaryValue;
  }

  return array;
}

</script>


</body>

  
<!-- Google Analytics -->
<script type="text/javascript">
if (document.location.hostname.search("westerndevs.com") !== -1 || document.location.hostname.search("www.westerndevs.com") !== -1) {
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-37617956-2', 'auto');

ga('set', 'contentGroup1', 'amir_barylko');

ga('send', 'pageview');
}
</script>
<!-- End Google Analytics -->



</html>
