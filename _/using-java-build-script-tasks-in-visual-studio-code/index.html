<!DOCTYPE html>
<html lang="en" xml:lang="en">

  <head>
  
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Using Java Build Script Tasks in Visual Studio Code | Western Devs</title>
  <meta name="description" content="I previously shared how I setup a custom problem matching in Visual Studio Code for compiling Java  and displaying the errors inline with a custom problem matcher.">
<meta property="og:type" content="article">
<meta property="og:title" content="Using Java Build Script Tasks in Visual Studio Code">
<meta property="og:url" content="https://westerndevs.com/_/using-java-build-script-tasks-in-visual-studio-code/index.html">
<meta property="og:site_name" content="Western Devs">
<meta property="og:description" content="I previously shared how I setup a custom problem matching in Visual Studio Code for compiling Java  and displaying the errors inline with a custom problem matcher.">
<meta property="og:image" content="http://blog.davidwesst.com/2015/10/Using-Java-Build-Script-Tasks-in-Visual-Studio-Code/hellolink-file.png">
<meta property="og:image" content="http://blog.davidwesst.com/2015/10/Using-Java-Build-Script-Tasks-in-Visual-Studio-Code/gradle-project.png">
<meta property="og:image" content="http://blog.davidwesst.com/2015/10/Using-Java-Build-Script-Tasks-in-Visual-Studio-Code/gradle-task.png">
<meta property="og:image" content="http://blog.davidwesst.com/2015/10/Using-Java-Build-Script-Tasks-in-Visual-Studio-Code/gradle-task-output.png">
<meta property="og:image" content="http://blog.davidwesst.com/2015/10/Using-Java-Build-Script-Tasks-in-Visual-Studio-Code/tasks-intellisense.png">
<meta property="og:image" content="http://blog.davidwesst.com/2015/10/Using-Java-Build-Script-Tasks-in-Visual-Studio-Code/gradle-error.png">
<meta property="og:image" content="http://blog.davidwesst.com/2015/10/Using-Java-Build-Script-Tasks-in-Visual-Studio-Code/complete.png">
<meta property="article:published_time" content="2015-10-21T12:18:19.000Z">
<meta property="article:modified_time" content="2023-11-20T18:29:08.388Z">
<meta property="article:author" content="Western Devs">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://blog.davidwesst.com/2015/10/Using-Java-Build-Script-Tasks-in-Visual-Studio-Code/hellolink-file.png">
<meta name="twitter:creator" content="@westerndevs">

    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="title" content="WesternDevs">   
    <meta name="keywords" content="software development,software,asp.net,blog">
    <meta name="description" content="We're all west of somewhere">
    <meta name="copyright" content="WesternDevs">
    <meta name="revisit-after" content="15 days">
    <meta name="robots" content="all">
    <meta name="MSSmartTagsPreventParsing" content="true">
  
    <link rel="canonical" href="http://blog.davidwesst.com/2015/10/Using-Java-Build-Script-Tasks-in-Visual-Studio-Code/">
  
  
    <link rel="alternate" href="/feed.xml" title="Western Devs" type="application/atom+xml">
  
  
<link rel="stylesheet" href="/css/style.css">

      
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <script src="//code.jquery.com/jquery-1.11.3.min.js"></script>  
  <meta name="generator" content="Hexo 4.2.1"></head>

<body>

<!-- FIXED HEADER BECAUSE SCROLLING -->
<!--HEADER STARTS-->
<div class="WrapperHeader">
<div style="display:inline-block; text-align: center;">
<div class="Header">

  <div class="HeaderLogo">
    <a href="/"><img src="/images/header_logo_transparent.png" alt="WesternDevs" title="WesternDevs" border="0" style="width: 206px; height: 64px;" width="206" height="64"></a>
  </div>

  <div class="HeaderLinks">
      <a href="/posts" class="nav">POSTS</a>       
      <a href="/podcasts" class="nav">PODCASTS</a>       
      <a href="/whoweare" class="nav">ABOUT</a>  
      <a href="/whatwevedone" class="nav">WHAT WE'VE DONE</a>  
      <a href="/speaking" class="nav">SPEAKING</a>
      <div class="HeaderIcons">
        <a href="mailto:info@westerndevs.com"><img src="/images/icon_email.png" border="0" alt="Email" title="Email" height="26" width="26"></a>
        <a href="/feed.xml"><img src="/images/icon_subscribe.png" border="0" alt="Subscribe" title="Subscribe" height="26" width="27"></a>
        <a href="http://twitter.com/westerndevs" target="_blank"><img src="/images/icon_twitter.png" border="0" alt="Twitter" title="Twitter" height="26" width="27"></a>
        <a href="http://github.com/westerndevs" target="_blank"><img src="/images/icon_github.png" border="0" alt="GitHub" title="GitHub" height="26" width="27"></a>     
      </div>
  </div>
  
</div>
</div>
</div>
<!--HEADER ENDS-->    



<!--WRAPPER STARTS-->
<div class="Wrapper" style="">

<!--SUBHEAD STARTS-->
<div class="WrapperSubHeaderSubpage">
<center>
	<div class="SubHeader">
		<H1 class="title"><img class="icon" src="/images/icon_posts.png" alt="POST" title="POST" border="0"> POST</H1>
	</div>
</center>
</div>
<!--SUBHEAD ENDS-->

<!--PAGE CONTENT STARTS-->
<center>
<div class="WrapperContent">

<!--MAIN CONTENT STARTS-->
	<div class="SubpageBoxSubLrg">
		<div class="SubpageBoxSubLrgContent">
		    <div class='postTitle'>
  <div class="ListLrgDateBG">
    <div class="ListLrgDateMonth">OCT</div>
    <div class="ListLrgDateDay">21</div>
    <div class="ListLrgDateYear">2015</div>
  </div>
  <h2>Using Java Build Script Tasks in Visual Studio Code</h2>
</div>

		    

<p class="TXTsm">ORIGINALLY POSTED TO: <a href="http://blog.davidwesst.com/2015/10/Using-Java-Build-Script-Tasks-in-Visual-Studio-Code/" target="_blank" rel="noopener" class='originalurl'>http://blog.davidwesst.com/2015/10/Using-Java-Build-Script-Tasks-in-Visual-Studio-Code/</a></p>



			<div id="mainPostContent">
	        <p>I <a href="http://www.westerndevs.com/custom-tasks-for-java-in-visual-studio-code/" target="_blank" rel="noopener">previously shared</a> how I setup a custom problem matching in Visual Studio Code for compiling Java  and displaying the errors inline with a custom problem matcher.</p>
<a id="more"></a>
<p>The shortcoming with <a href="https://code.visualstudio.com/docs/editor/tasks" target="_blank" rel="noopener">Tasks</a> was that you could only define one, which is (in my humble opinion) by design to help developers by forcing them to create a build script rather than setting up tasks, as a build script is not coupled to the IDE and can be used elsewhere.</p>
<p>Code has support for build systems like Grunt, Gulp, and Jake, but what if we want to handle something totally different, like use Gradle on a Java project.</p>
<p>How do you do that? Good question. Let me show you.</p>
<h3>Define a Build Script</h3>
<p>I've setup a standard Gradle project by using the <code>gradle init</code> and created a class with a main method named <code>HelloLink</code>.</p>
<p><img src="http://blog.davidwesst.com/2015/10/Using-Java-Build-Script-Tasks-in-Visual-Studio-Code/hellolink-file.png" alt="http://blog.davidwesst.com/2015/10/Using-Java-Build-Script-Tasks-in-Visual-Studio-Code/hellolink-file.png"></p>
<p>Next up, I want to create a custom build task. We'll call our task <code>getSword</code>.</p>
<p><img src="http://blog.davidwesst.com/2015/10/Using-Java-Build-Script-Tasks-in-Visual-Studio-Code/gradle-project.png" alt="http://blog.davidwesst.com/2015/10/Using-Java-Build-Script-Tasks-in-Visual-Studio-Code/gradle-project.png"></p>
<p>Now, we need to do the fun part: hook it into Code.</p>
<h3>Add a Task to VS Code</h3>
<p>If we take a page out of <a href="http://blog.davidwesst.com/2015/10/Custom-Tasks-for-Java-in-Visual-Studio-Code/" target="_blank" rel="noopener">my previous post</a>, we need so to setup our <code>tasks.json</code> file. Do that by pressing <code>Ctrl + Shift + P</code> and searching for &quot;task&quot; and select for <em>Configure Task Runner</em>.</p>
<p>Let's add gradle as our task, which should leave our tasks file looking like:</p>
<p><img src="http://blog.davidwesst.com/2015/10/Using-Java-Build-Script-Tasks-in-Visual-Studio-Code/gradle-task.png" alt="http://blog.davidwesst.com/2015/10/Using-Java-Build-Script-Tasks-in-Visual-Studio-Code/gradle-task.png"></p>
<p>When we run it, by pressing <code>Ctrl + P</code> and entering <code>task gradle</code> we should get the output window displaying our gradle command.</p>
<p><img src="http://blog.davidwesst.com/2015/10/Using-Java-Build-Script-Tasks-in-Visual-Studio-Code/gradle-task-output.png" alt="http://blog.davidwesst.com/2015/10/Using-Java-Build-Script-Tasks-in-Visual-Studio-Code/gradle-task-output.png"></p>
<p>And now we're back to where we started, but gradle (like any build system) has way more tasks than just my custom one. How do I gain access to those?</p>
<p>Simple: you add tasks to your gradle task.</p>
<h3>Adding a Task to your Task</h3>
<p>If you haven't already seen it, you have intellisense while you're editing your <code>tasks.json</code>. If you browse through the multitude of JSON properties, you'll find one called <em>tasks</em> which is where we can define our gradle specific tasks.</p>
<p><img src="http://blog.davidwesst.com/2015/10/Using-Java-Build-Script-Tasks-in-Visual-Studio-Code/tasks-intellisense.png" alt="http://blog.davidwesst.com/2015/10/Using-Java-Build-Script-Tasks-in-Visual-Studio-Code/tasks-intellisense.png"></p>
<p>We define, what I call a subtask, just like we do a regular task, except the JSON schema is a little different. After adding a task for <code>getSword</code> and , my tasks file now looks like:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	<span class="string">"version"</span>: <span class="string">"0.1.0"</span>,</span><br><span class="line">	<span class="string">"command"</span>: <span class="string">"gradle"</span>,</span><br><span class="line">	<span class="string">"isShellCommand"</span>: <span class="literal">true</span>,</span><br><span class="line">	<span class="string">"args"</span>: [],	<span class="comment">// no args, but we could add some</span></span><br><span class="line">	<span class="string">"tasks"</span>: [</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="string">"taskName"</span>: <span class="string">"getSword"</span>,</span><br><span class="line">			<span class="string">"showOutput"</span>: <span class="string">"always"</span>,</span><br><span class="line">			<span class="string">"echoCommand"</span>: <span class="literal">true</span></span><br><span class="line">		&#125;</span><br><span class="line">	]	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Great, but so far we haven't done anything actually useful. Let's apply what we've learned here and from <a href="http://blog.davidwesst.com/2015/10/Custom-Tasks-for-Java-in-Visual-Studio-Code/" target="_blank" rel="noopener">my previous post</a> and get a useful command setup in Code.</p>
<h3>Doing Something Real</h3>
<p>So, not only do we want a task to call custom tasks, but we'll probably want one to compile and run our Java too. The <a href="https://docs.gradle.org/current/userguide/application_plugin.html" target="_blank" rel="noopener">gradle application</a> provides us with a <code>run</code> command that we'll call as our default build command, which will give us the <em>F5</em> experience we know from our big, bloated, buddy, Visual Studio proper.</p>
<p>Just like we did with the <code>javac</code> command, we need to add a problem matcher to our task.</p>
<p>Our tasks file now looks like:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	<span class="string">"version"</span>: <span class="string">"0.1.0"</span>,</span><br><span class="line">	<span class="string">"command"</span>: <span class="string">"gradle"</span>,</span><br><span class="line">	<span class="string">"isShellCommand"</span>: <span class="literal">true</span>,</span><br><span class="line">	<span class="string">"args"</span>: [<span class="string">""</span>], </span><br><span class="line">	<span class="string">"tasks"</span>: [</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="string">"taskName"</span>: <span class="string">"getSword"</span>,</span><br><span class="line">			<span class="string">"showOutput"</span>: <span class="string">"always"</span>,</span><br><span class="line">			<span class="string">"echoCommand"</span>: <span class="literal">true</span></span><br><span class="line">		&#125;,</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="string">"taskName"</span>: <span class="string">"run"</span>,</span><br><span class="line">			<span class="string">"showOutput"</span>: <span class="string">"silent"</span>,</span><br><span class="line">			<span class="string">"isBuildCommand"</span>: <span class="literal">true</span>,</span><br><span class="line">			<span class="string">"problemMatcher"</span>: &#123;</span><br><span class="line">				<span class="string">"owner"</span>: <span class="string">"external"</span>,</span><br><span class="line">				<span class="string">"fileLocation"</span>: <span class="string">"absolute"</span>,</span><br><span class="line">				<span class="string">"pattern"</span>: [</span><br><span class="line">					&#123;</span><br><span class="line">						<span class="string">"regexp"</span>: <span class="string">"^(.+\\.java):(\\d):(?:\\s+(error)):(?:\\s+(.*))$"</span>,</span><br><span class="line">						<span class="string">"file"</span>: <span class="number">1</span>,</span><br><span class="line">						<span class="string">"location"</span>: <span class="number">2</span>,</span><br><span class="line">						<span class="string">"severity"</span>: <span class="number">3</span>,</span><br><span class="line">						<span class="string">"message"</span>: <span class="number">4</span>,</span><br><span class="line">						<span class="string">"loop"</span>: <span class="literal">true</span>	<span class="comment">// add this to loop through multiple lines</span></span><br><span class="line">					&#125;</span><br><span class="line">				]</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	]	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>And if you run it, you should get an error in our source code. Press <code>Ctrl + Shift + M</code> to see the warning about our static method, and click it to go to the error.</p>
<p><img src="http://blog.davidwesst.com/2015/10/Using-Java-Build-Script-Tasks-in-Visual-Studio-Code/gradle-error.png" alt="http://blog.davidwesst.com/2015/10/Using-Java-Build-Script-Tasks-in-Visual-Studio-Code/gradle-error.png"></p>
<p>As you probably noticed, we set our <code>run</code> task, we've set it to be the <em>Build Command</em> so that when we hit <code>Ctrl + Shift + B</code> it will execute our command. So, once we go and fix our application we can run it with a keyboard shortcut.</p>
<p>You can open up your output window by hitting <code>Ctrl + Shift + U</code> and see our application in action.</p>
<p><img src="http://blog.davidwesst.com/2015/10/Using-Java-Build-Script-Tasks-in-Visual-Studio-Code/complete.png" alt="http://blog.davidwesst.com/2015/10/Using-Java-Build-Script-Tasks-in-Visual-Studio-Code/complete.png"></p>
<h2>The Point</h2>
<p>This is just one simple example using Gradle, but you could use Maven or Ant, or whatever custom build script tool you want, assuming it has a command line response.</p>
<p>There are plenty of other things you can configure with tasks, including the OS-specific commands that need to be executed. Take a look at the <a href="https://code.visualstudio.com/docs/editor/tasks_appendix" target="_blank" rel="noopener">JSON Schema</a> for more details.</p>
<hr>
<p>Thanks for playing. ~ DW</p>

	        </div>

            
            <section id="comments">
            <div id="disqus_thread">
                <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript" target="_blank" rel="noopener">comments powered by Disqus.</a></noscript>
            </div>
            </section>
            
		</div>
	</div>
<!--MAIN CONTENT ENDS-->

<!--SIDEBAR CONTENT STARTS-->
	<div class="SubpageBoxSubSm">
		<div class="SubpageBoxSubSmContent">
			
			

			<div class="ProfileImg">
				
				<a href="/bios/david_wesst">
				
					<img src='/images/avatars/davidwesst_400x400.jpg' />
				
				</a>
				
			</div>

			<BR clear="all">

			<h2><a href="/bios/david_wesst">David Wesst</a></h2>
			
			<a href="mailto:questions@davidwesst.com"><img class="ProfileIcon" src="/images/icon_email.png" border="0" alt="Email" title="Email"> Email</a><BR>
			
			
			<a href="http://www.davidwesst.com" target="_blank"><img class="ProfileIcon" src="/images/icon_web.png" border="0" alt="Web" title="Web"> Web</a><BR>
			
			
			<a href="http://twitter.com/davidwesst" target="_blank"><img class="ProfileIcon" src="/images/icon_twitter.png" border="0" alt="Twitter" title="Twitter"> Twitter</a><BR>
			
			
			<a href="https://github.com/davidwesst" target="_blank"><img class="ProfileIcon" src="/images/icon_github.png" border="0" alt="GitHub" title="GitHub"> GitHub</a><br>
			
			
			<a href="https://www.linkedin.com/in/davidwesst" target="_blank"><img class="ProfileIcon" src="/images/icon_linkedin.png" border="0" alt="LinkedIN" title="LinkedIN"> LinkedIn</a><br>
			
			
 			<a href="/feeds/david_wesst.xml"><img class="ProfileIcon" src="/images/icon_subscribe.png" /> RSS</a>
			

			<hr />
			<h4>Looking for someone else?</h4>
			<p>You can find the rest of the Western Devs Crew <a href="/whoweare">here</a>.</p>
		</div>
	</div>
<!--SIDEBAR CONTENT ENDS-->


</div>
</center>
<!--PAGE CONTENT ENDS-->


<!--FOOTER STARTS-->
<center>
  <div class="FooterBarTxt">&copy; 2015 Western Devs. All Rights Reserved. Design by <a href="http://www.karenchudobiak.ca" target="_blank">Karen Chudobiak, Graphic Designer</a></div>
</center>
<!--FOOTER ENDS-->

<!-- NAV FOOTER STARTS -->
<div class="NavFooter">
  <a href="/posts" alt="Posts"><i class="fa fa-newspaper-o fa-2x"></i><span>Posts</span></a>
  <a href="/podcasts" alt="Podcasts"><i class="fa fa-volume-up fa-2x"></i><span>Podcasts</span></a>
  <a href="/whoweare" alt="About"><i class="fa fa-star fa-2x"></i><span>About</span></a>
  <a href="/whatwevedone" alt="What We've Done"><i class="fa fa-trophy fa-2x"></i><span>Work</span></a>
  <a href="/speaking" alt="Speaking"><i class="fa fa-comment-o fa-2x fa-flip-horizontal"></i><span>Speaking</span></a>
</div>
<!-- NAV FOOTER ENDS -->




</div>
<!--WRAPPER ENDS-->


<script>
  var disqus_shortname = 'westerndevs';
  
  var disqus_url = 'https://westerndevs.com/_/using-java-build-script-tasks-in-visual-studio-code/'.replace(".com//", ".com/");
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
  
function shuffle(array) {
  var currentIndex = array.length, temporaryValue, randomIndex;

  // While there remain elements to shuffle...
  while (0 !== currentIndex) {

    // Pick a remaining element...
    randomIndex = Math.floor(Math.random() * currentIndex);
    currentIndex -= 1;

    // And swap it with the current element.
    temporaryValue = array[currentIndex];
    array[currentIndex] = array[randomIndex];
    array[randomIndex] = temporaryValue;
  }

  return array;
}

</script>


</body>

  
<!-- Google Analytics -->
<script type="text/javascript">
if (document.location.hostname.search("westerndevs.com") !== -1 || document.location.hostname.search("www.westerndevs.com") !== -1) {
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-37617956-2', 'auto');

ga('set', 'contentGroup1', 'david_wesst');

ga('send', 'pageview');
}
</script>
<!-- End Google Analytics -->



</html>
